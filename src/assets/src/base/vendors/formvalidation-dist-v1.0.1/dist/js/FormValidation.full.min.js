!function(e,t){typeof exports==='object'&&typeof module!=='undefined'?t(exports):typeof define==='function'&&define.amd?define(['exports'],t):(t((e.FormValidation={})))}(this,(function(e){"use strict";function t(e){let t=e.length,r=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],n=0,s=0;while(t--)s+=r[n][parseInt(e.charAt(t),10)],n=1-n;return s%10===0&&s>0}function r(e){let t=e.length,r=5;for(let n=0;n<t;n++)r=((r||10)*2%11+parseInt(e.charAt(n),10))%10;return r===1}function n(e,t = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'){let r=e.length,n=t.length,s=Math.floor(n/2);for(let a=0;a<r;a++)s=((s||n)*2%(n+1)+t.indexOf(e.charAt(a)))%n;return s===1}var s={luhn:t,mod11And10:r,mod37And36:n};function a(){return{fns:{},clear(){this.fns={}},emit(e,...t){(this.fns[e]||[]).map(e=>e.apply(e,t))},off(e,t){if(this.fns[e]){let r=this.fns[e].indexOf(t);r>=0&&this.fns[e].splice(r,1)}},on(e,t){(this.fns[e]=this.fns[e]||[]).push(t)}}}function l(){return{filters:{},add(e,t){(this.filters[e]=this.filters[e]||[]).push(t)},clear(){this.filters={}},execute(e,t,r){if(!this.filters[e]||!this.filters[e].length){return t}let n=t,s=this.filters[e],a=s.length;for(let e=0;e<a;e++)n=s[e].apply(n,r);return n},remove(e,t){this.filters[e]&&(this.filters[e]=this.filters[e].filter(e=>e!==t))}}}var i;!function(e){e.Invalid="Invalid";e.NotValidated="NotValidated";e.Valid="Valid";e.Validating="Validating"}(i||(i={}));var u=i;function o(e,t,r,n){let s=(r.getAttribute('type')||'').toLowerCase(),a=r.tagName.toLowerCase();switch(a){case 'textarea':return r.value;case 'select':let i=r;let l=i.selectedIndex;return l>=0?i.options.item(l).value:'';case 'input':if('radio'===s||'checkbox'===s){let e=n.filter(e=>e.checked).length;return e===0?'':e+''}else{return r.value};default:return''}}function c(e,t){let r=Array.isArray(t)?t:[t],n=e;r.forEach(e=>{n=n.replace('%s',e)});return n}function d(){let e=e=>{return parseFloat(`${e}`.replace(',','.'))};return{validate(t){let r=t.value;if(r===''){return{valid:!0}}let n=Object.assign({},{inclusive:!0},t.options),s=e(n.min),a=e(n.max);return n.inclusive?{message:t.l10n?c(n.message||t.l10n.between.default,[`${s}`,`${a}`]):n.message,valid:parseFloat(r)>=s&&parseFloat(r)<=a}:{message:t.l10n?c(n.message||t.l10n.between.notInclusive,[`${s}`,`${a}`]):n.message,valid:parseFloat(r)>s&&parseFloat(r)<a}}}}function f(){return{validate(e){return{valid:!0}}}}function g(e,t){if('function'===typeof e){return e.apply(this,t)}else if('string'===typeof e){let r=e;'()'===r.substring(r.length-2)&&(r=r.substring(0,r.length-2));let n=r.split('.'),s=n.pop(),a=window;for(let e of n)a=a[e];return typeof a[s]==='undefined'?null:a[s].apply(this,t)}}function h(){return{validate(e){let t=g(e.options.callback,[e]);return'boolean'===typeof t?{valid:t}:t}}}function p(){return{validate(e){let t='select'===e.element.tagName.toLowerCase()?e.element.querySelectorAll('option:checked').length:e.elements.filter(e=>e.checked).length,r=e.options.min?`${e.options.min}`:'',n=e.options.max?`${e.options.max}`:'',s=e.l10n?e.options.message||e.l10n.choice.default:e.options.message,a=!(r&&t<parseInt(r,10)||n&&t>parseInt(n,10));switch(!0){case !!r&&!!n:s=c(e.l10n?e.l10n.choice.between:e.options.message,[r,n]);break;case !!r:s=c(e.l10n?e.l10n.choice.more:e.options.message,r);break;case !!n:s=c(e.l10n?e.l10n.choice.less:e.options.message,n);break;default:break}return{message:s,valid:a}}}}let m={AMERICAN_EXPRESS:{length:[15],prefix:['34','37']},DANKORT:{length:[16],prefix:['5019']},DINERS_CLUB:{length:[14],prefix:['300','301','302','303','304','305','36']},DINERS_CLUB_US:{length:[16],prefix:['54','55']},DISCOVER:{length:[16],prefix:['6011','622126','622127','622128','622129','62213','62214','62215','62216','62217','62218','62219','6222','6223','6224','6225','6226','6227','6228','62290','62291','622920','622921','622922','622923','622924','622925','644','645','646','647','648','649','65']},ELO:{length:[16],prefix:['4011','4312','4389','4514','4573','4576','5041','5066','5067','509','6277','6362','6363','650','6516','6550']},FORBRUGSFORENINGEN:{length:[16],prefix:['600722']},JCB:{length:[16],prefix:['3528','3529','353','354','355','356','357','358']},LASER:{length:[16,17,18,19],prefix:['6304','6706','6771','6709']},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:['5018','5020','5038','5868','6304','6759','6761','6762','6763','6764','6765','6766']},MASTERCARD:{length:[16],prefix:['51','52','53','54','55']},SOLO:{length:[16,18,19],prefix:['6334','6767']},UNIONPAY:{length:[16,17,18,19],prefix:['622126','622127','622128','622129','62213','62214','62215','62216','62217','62218','62219','6222','6223','6224','6225','6226','6227','6228','62290','62291','622920','622921','622922','622923','622924','622925']},VISA:{length:[16],prefix:['4']},VISA_ELECTRON:{length:[16],prefix:['4026','417500','4405','4508','4844','4913','4917']}};function b(){return{validate(e){if(e.value===''){return{meta:{type:null},valid:!0}}if(/[^0-9-\s]+/.test(e.value)){return{meta:{type:null},valid:!1}}let r=e.value.replace(/\D/g,'');if(!t(r)){return{meta:{type:null},valid:!1}}for(let t of Object.keys(m)){for(let n in m[t].prefix){if(e.value.substr(0,m[t].prefix[n].length)===m[t].prefix[n]&&m[t].length.indexOf(r.length)!==-1){return{meta:{type:t},valid:!0}}}}return{meta:{type:null},valid:!1}}}}function A(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)){return!1}if(e<1e3||e>9999||t<=0||t>12){return!1}let s=[31,e%400===0||e%100!==0&&e%4===0?29:28,31,30,31,30,31,31,30,31,30,31];if(r<=0||r>s[t-1]){return!1}if(n===!0){let n=new Date,s=n.getFullYear(),a=n.getMonth(),l=n.getDate();return e<s||e===s&&t-1<a||e===s&&t-1===a&&r<l}return!0}function v(){let e=(e,t,r)=>{let n=t.indexOf('YYYY'),s=t.indexOf('MM'),a=t.indexOf('DD');if(n===-1||s===-1||a===-1){return null}let l=e.split(' '),i=l[0].split(r);if(i.length<3){return null}let u=new Date(parseInt(i[n],10),parseInt(i[s],10)-1,parseInt(i[a],10));if(l.length>1){let e=l[1].split(':');u.setHours(e.length>0?parseInt(e[0],10):0);u.setMinutes(e.length>1?parseInt(e[1],10):0);u.setSeconds(e.length>2?parseInt(e[2],10):0)}return u},t=(e,t)=>{let r=t.replace(/Y/g,'y').replace(/M/g,'m').replace(/D/g,'d').replace(/:m/g,':M').replace(/:mm/g,':MM').replace(/:S/,':s').replace(/:SS/,':ss'),n=e.getDate(),s=n<10?`0${n}`:n,a=e.getMonth()+1,l=a<10?`0${a}`:a,i=`${e.getFullYear()}`.substr(2),u=e.getFullYear(),o=e.getHours()%12||12,c=o<10?`0${o}`:o,d=e.getHours(),f=d<10?`0${d}`:d,g=e.getMinutes(),h=g<10?`0${g}`:g,p=e.getSeconds(),m=p<10?`0${p}`:p,b={H:`${d}`,HH:`${f}`,M:`${g}`,MM:`${h}`,d:`${n}`,dd:`${s}`,h:`${o}`,hh:`${c}`,m:`${a}`,mm:`${l}`,s:`${p}`,ss:`${m}`,yy:`${i}`,yyyy:`${u}`};return r.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMs])\1?|"[^"]*"|'[^']*'/g,e=>{return b[e]?b[e]:e.slice(1,e.length-1)})};return{validate(r){if(r.value===''){return{meta:{date:null},valid:!0}}let n=Object.assign({},{format:r.element&&r.element.getAttribute('type')==='date'?'YYYY-MM-DD':'MM/DD/YYYY',message:''},r.options),s=r.l10n?r.l10n.date.default:n.message,a={message:`${s}`,meta:{date:null},valid:!1},l=n.format.split(' '),i=l.length>1?l[1]:null,u=l.length>2?l[2]:null,o=r.value.split(' '),d=o[0],f=o.length>1?o[1]:null;if(l.length!==o.length){return a}let g=n.separator||(d.indexOf('/')!==-1?'/':(d.indexOf('-')!==-1?'-':(d.indexOf('.')!==-1?'.':'/')));if(g===null||d.indexOf(g)===-1){return a}let h=d.split(g),p=l[0].split(g);if(h.length!==p.length){return a}let m=h[p.indexOf('YYYY')],b=h[p.indexOf('MM')],v=h[p.indexOf('DD')];if(!/^\d+$/.test(m)||!/^\d+$/.test(b)||!/^\d+$/.test(v)||m.length>4||b.length>2||v.length>2){return a}let E=parseInt(m,10),C=parseInt(b,10),S=parseInt(v,10);if(!A(E,C,S)){return a}let y=new Date(E,C-1,S);if(i){let e=f.split(':');if(i.split(':').length!==e.length){return a}let t=e.length>0?(e[0].length<=2&&/^\d+$/.test(e[0])?parseInt(e[0],10):-1):0,r=e.length>1?(e[1].length<=2&&/^\d+$/.test(e[1])?parseInt(e[1],10):-1):0,n=e.length>2?(e[2].length<=2&&/^\d+$/.test(e[2])?parseInt(e[2],10):-1):0;if(t===-1||r===-1||n===-1){return a}if(n<0||n>60){return a}if(t<0||t>=24||u&&t>12){return a}if(r<0||r>59){return a}y.setHours(t);y.setMinutes(r);y.setSeconds(n)}let V=n.min instanceof Date?n.min:(n.min?e(n.min,p,g):y),w=n.max instanceof Date?n.max:(n.max?e(n.max,p,g):y),H=n.min instanceof Date?t(V,n.format):n.min,M=n.max instanceof Date?t(w,n.format):n.max;switch(!0){case !!H&&!M:return{message:c(r.l10n?r.l10n.date.min:s,H),meta:{date:y},valid:y.getTime()>=V.getTime()};case !!M&&!H:return{message:c(r.l10n?r.l10n.date.max:s,M),meta:{date:y},valid:y.getTime()<=w.getTime()};case !!M&&!!H:return{message:c(r.l10n?r.l10n.date.range:s,[H,M]),meta:{date:y},valid:y.getTime()<=w.getTime()&&y.getTime()>=V.getTime()};default:return{message:`${s}`,meta:{date:y},valid:!0}}}}}function E(){return{validate(e){let t='function'===typeof e.options.compare?e.options.compare.call(this):e.options.compare;return{valid:t===''||e.value!==t}}}}function C(){return{validate(e){return{valid:e.value===''||/^\d+$/.test(e.value)}}}}function S(){let e=(e,t)=>{let r=e.split(/"/),n=r.length,s=[],a='';for(let e=0;e<n;e++){if(e%2===0){let n=r[e].split(t),l=n.length;if(l===1)a+=n[0];else{s.push(a+n[0]);for(let e=1;e<l-1;e++)s.push(n[e]);a=n[l-1]}}else a+='"'+r[e],e<n-1&&(a+='"')}s.push(a);return s};return{validate(t){if(t.value===''){return{valid:!0}}let r=Object.assign({},{multiple:!1,separator:/[,;]/},t.options),n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,s=r.multiple===!0||r.multiple==='true';if(s){let s=r.separator||/[,;]/,a=e(t.value,s);for(let e of a){if(!n.test(e)){return{valid:!1}}}return{valid:!0}}else{return{valid:n.test(t.value)}}}}}function y(){return{validate(e){if(e.value===''){return{valid:!0}}let t,r=e.options.extension?e.options.extension.toLowerCase().split(','):null,n=e.options.type?e.options.type.toLowerCase().split(','):null,s=window.File&&window.FileList&&window.FileReader;if(s){let s=e.element.files,a=s.length,l=0;if(e.options.maxFiles&&a>parseInt(`${e.options.maxFiles}`,10)){return{meta:{error:'INVALID_MAX_FILES'},valid:!1}}if(e.options.minFiles&&a<parseInt(`${e.options.minFiles}`,10)){return{meta:{error:'INVALID_MIN_FILES'},valid:!1}}let i={};for(let u=0;u<a;u++){l+=s[u].size;t=s[u].name.substr(s[u].name.lastIndexOf('.')+1);i={ext:t,file:s[u],size:s[u].size,type:s[u].type};if(e.options.minSize&&s[u].size<parseInt(`${e.options.minSize}`,10)){return{meta:Object.assign({},{error:'INVALID_MIN_SIZE'},i),valid:!1}}if(e.options.maxSize&&s[u].size>parseInt(`${e.options.maxSize}`,10)){return{meta:Object.assign({},{error:'INVALID_MAX_SIZE'},i),valid:!1}}if(r&&r.indexOf(t.toLowerCase())===-1){return{meta:Object.assign({},{error:'INVALID_EXTENSION'},i),valid:!1}}if(s[u].type&&n&&n.indexOf(s[u].type.toLowerCase())===-1){return{meta:Object.assign({},{error:'INVALID_TYPE'},i),valid:!1}}}if(e.options.maxTotalSize&&l>parseInt(`${e.options.maxTotalSize}`,10)){return{meta:Object.assign({},{error:'INVALID_MAX_TOTAL_SIZE',totalSize:l},i),valid:!1}}if(e.options.minTotalSize&&l<parseInt(`${e.options.minTotalSize}`,10)){return{meta:Object.assign({},{error:'INVALID_MIN_TOTAL_SIZE',totalSize:l},i),valid:!1}}}else{t=e.value.substr(e.value.lastIndexOf('.')+1);if(r&&r.indexOf(t.toLowerCase())===-1){return{meta:{error:'INVALID_EXTENSION',ext:t},valid:!1}}}return{valid:!0}}}}function V(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},{inclusive:!0},e.options),r=parseFloat(`${t.min}`.replace(',','.'));return t.inclusive?{message:e.l10n?c(t.message||e.l10n.greaterThan.default,`${r}`):t.message,valid:parseFloat(e.value)>=r}:{message:e.l10n?c(t.message||e.l10n.greaterThan.notInclusive,`${r}`):t.message,valid:parseFloat(e.value)>r}}}}function w(){return{validate(e){let t='function'===typeof e.options.compare?e.options.compare.call(this):e.options.compare;return{valid:t===''||e.value===t}}}}function H(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},{decimalSeparator:'.',thousandsSeparator:''},e.options),r=t.decimalSeparator==='.'?'\\.':t.decimalSeparator,n=t.thousandsSeparator==='.'?'\\.':t.thousandsSeparator,s=new RegExp(`^-?[0-9]{1,3}(${n}[0-9]{3})*(${r}[0-9]+)?$`),a=new RegExp(n,'g'),l=`${e.value}`;if(!s.test(l)){return{valid:!1}}n&&(l=l.replace(a,''));r&&(l=l.replace(r,'.'));let i=parseFloat(l);return{valid:!isNaN(i)&&isFinite(i)&&Math.floor(i)===i}}}}function M(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},{ipv4:!0,ipv6:!0},e.options),r=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$/,n=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*(\/(\d|\d\d|1[0-1]\d|12[0-8]))?$/;switch(!0){case t.ipv4&&!t.ipv6:return{message:e.l10n?t.message||e.l10n.ip.ipv4:t.message,valid:r.test(e.value)};case !t.ipv4&&t.ipv6:return{message:e.l10n?t.message||e.l10n.ip.ipv6:t.message,valid:n.test(e.value)};case t.ipv4&&t.ipv6:;default:return{message:e.l10n?t.message||e.l10n.ip.default:t.message,valid:r.test(e.value)||n.test(e.value)}}}}}function L(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},{inclusive:!0},e.options),r=parseFloat(`${t.max}`.replace(',','.'));return t.inclusive?{message:e.l10n?c(t.message||e.l10n.lessThan.default,`${r}`):t.message,valid:parseFloat(e.value)<=r}:{message:e.l10n?c(t.message||e.l10n.lessThan.notInclusive,`${r}`):t.message,valid:parseFloat(e.value)<r}}}}function I(){return{validate(e){return{valid:e.value!==''}}}}function N(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},{decimalSeparator:'.',thousandsSeparator:''},e.options),r=`${e.value}`;r.substr(0,1)===t.decimalSeparator?(r=`0${t.decimalSeparator}${r.substr(1)}`):r.substr(0,2)===`-${t.decimalSeparator}`&&(r=`-0${t.decimalSeparator}${r.substr(2)}`);let n=t.decimalSeparator==='.'?'\\.':t.decimalSeparator,s=t.thousandsSeparator==='.'?'\\.':t.thousandsSeparator,a=new RegExp(`^-?[0-9]{1,3}(${s}[0-9]{3})*(${n}[0-9]+)?$`),l=new RegExp(s,'g');if(!a.test(r)){return{valid:!1}}s&&(r=r.replace(l,''));n&&(r=r.replace(n,'.'));let i=parseFloat(r);return{valid:!isNaN(i)&&isFinite(i)}}}}function Z(){return{validate(e){return g(e.options.promise,[e])}}}function F(){return{validate(e){if(e.value===''){return{valid:!0}}let t=e.options.regexp;if(t instanceof RegExp){return{valid:t.test(e.value)}}else{let r=t.toString(),n=e.options.flags?new RegExp(r,e.options.flags):new RegExp(r);return{valid:n.test(e.value)}}}}}function x(e,t){let r=e=>Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join('&');return new Promise((n,s)=>{let a=Object.assign({},{crossDomain:!1,headers:{},method:'GET',params:{}},t),l=Object.keys(a.params).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(a.params[e])}`).join('&'),i=e.indexOf('?'),u='GET'===a.method?`${e}${i?'?':'&'}${l}`:e;if(a.crossDomain){let e=document.createElement('script'),t=`___fetch${Date.now()}___`;window[t]=e=>{delete window[t],n(e)};e.src=`${u}${i?'&':'?'}callback=${t}`;e.async=!0;e.addEventListener('load',()=>{e.parentNode.removeChild(e)});e.addEventListener('error',()=>s);document.head.appendChild(e)}else{let e=new XMLHttpRequest;e.open(a.method,u);e.setRequestHeader('X-Requested-With','XMLHttpRequest');'POST'===a.method&&e.setRequestHeader('Content-Type','application/x-www-form-urlencoded');Object.keys(a.headers).forEach(t=>e.setRequestHeader(t,a.headers[t]));e.addEventListener('load',function(){n(JSON.parse(this.responseText))});e.addEventListener('error',()=>s);e.send(r(a.params))}})}function T(){let e={crossDomain:!1,data:{},headers:{},method:'GET',validKey:'valid'};return{validate(t){if(t.value===''){return Promise.resolve({valid:!0})}let r=Object.assign({},e,t.options),n=r.data;'function'===typeof r.data&&(n=r.data.call(this,t));'string'===typeof n&&(n=JSON.parse(n));n[r.name||t.field]=t.value;let s='function'===typeof r.url?r.url.call(this,t):r.url;return x(s,{crossDomain:r.crossDomain,headers:r.headers,method:r.method,params:n}).then(e=>{return Promise.resolve({message:e.message,meta:e,valid:`${e[r.validKey]}`==='true'})}).catch(e=>{return Promise.reject({valid:!1})})}}}function R(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},{case:'lower'},e.options),r=(t.case||'lower').toLowerCase();return{message:t.message||(e.l10n?('upper'===r?e.l10n.stringCase.upper:e.l10n.stringCase.default):t.message),valid:'upper'===r?e.value===e.value.toUpperCase():e.value===e.value.toLowerCase()}}}}function B(){let e=e=>{let t=e.length;for(let r=e.length-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2);n>=56320&&n<=57343&&r--}return`${t}`};return{validate(t){let r=Object.assign({},{trim:!1,utf8Bytes:!1},t.options),n=r.trim===!0||r.trim==='true'?t.value.trim():t.value;if(n===''){return{valid:!0}}let s=r.min?`${r.min}`:'',a=r.max?`${r.max}`:'',l=r.utf8Bytes?e(n):n.length,i=!0,u=t.l10n?r.message||t.l10n.stringLength.default:r.message;(s&&l<parseInt(s,10)||a&&l>parseInt(a,10))&&(i=!1);switch(!0){case !!s&&!!a:u=t.l10n?c(r.message||t.l10n.stringLength.between,[s,a]):r.message;break;case !!s:u=t.l10n?c(r.message||t.l10n.stringLength.more,parseInt(s,10)-1+''):r.message;break;case !!a:u=t.l10n?c(r.message||t.l10n.stringLength.less,parseInt(a,10)+1+''):r.message;break;default:break}return{message:u,valid:i}}}}function O(){let e={allowEmptyProtocol:!1,allowLocal:!1,protocol:'http, https, ftp'};return{validate(t){if(t.value===''){return{valid:!0}}let r=Object.assign({},e,t.options),n=r.allowLocal===!0||r.allowLocal==='true',s=r.allowEmptyProtocol===!0||r.allowEmptyProtocol==='true',a=r.protocol.split(',').join('|').replace(/\s/g,''),l=new RegExp("^(?:(?:"+a+")://)"+(s?'?':'')+"(?:\\S+(?::\\S*)?@)?"+"(?:"+(n?'':"(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})")+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])"+"(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}"+"(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))"+"|"+"(?:(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9]+)"+"(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9])*"+"(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+(n?'?':'')+")"+"(?::\\d{2,5})?"+"(?:/[^\\s]*)?$","i");return{valid:l.test(t.value)}}}}function G(){return{validate(e){return{valid:e.value===''||/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(e.value)}}}}function D(){return{validate(e){return{valid:e.value===''||/^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$/.test(e.value)}}}}function k(){let e=['hex','rgb','rgba','hsl','hsla','keyword'],t=['aliceblue','antiquewhite','aqua','aquamarine','azure','beige','bisque','black','blanchedalmond','blue','blueviolet','brown','burlywood','cadetblue','chartreuse','chocolate','coral','cornflowerblue','cornsilk','crimson','cyan','darkblue','darkcyan','darkgoldenrod','darkgray','darkgreen','darkgrey','darkkhaki','darkmagenta','darkolivegreen','darkorange','darkorchid','darkred','darksalmon','darkseagreen','darkslateblue','darkslategray','darkslategrey','darkturquoise','darkviolet','deeppink','deepskyblue','dimgray','dimgrey','dodgerblue','firebrick','floralwhite','forestgreen','fuchsia','gainsboro','ghostwhite','gold','goldenrod','gray','green','greenyellow','grey','honeydew','hotpink','indianred','indigo','ivory','khaki','lavender','lavenderblush','lawngreen','lemonchiffon','lightblue','lightcoral','lightcyan','lightgoldenrodyellow','lightgray','lightgreen','lightgrey','lightpink','lightsalmon','lightseagreen','lightskyblue','lightslategray','lightslategrey','lightsteelblue','lightyellow','lime','limegreen','linen','magenta','maroon','mediumaquamarine','mediumblue','mediumorchid','mediumpurple','mediumseagreen','mediumslateblue','mediumspringgreen','mediumturquoise','mediumvioletred','midnightblue','mintcream','mistyrose','moccasin','navajowhite','navy','oldlace','olive','olivedrab','orange','orangered','orchid','palegoldenrod','palegreen','paleturquoise','palevioletred','papayawhip','peachpuff','peru','pink','plum','powderblue','purple','red','rosybrown','royalblue','saddlebrown','salmon','sandybrown','seagreen','seashell','sienna','silver','skyblue','slateblue','slategray','slategrey','snow','springgreen','steelblue','tan','teal','thistle','tomato','transparent','turquoise','violet','wheat','white','whitesmoke','yellow','yellowgreen'],r=e=>{return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},n=e=>{return /^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(e)},s=e=>{return /^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(e)},a=e=>{return t.indexOf(e)>=0},l=e=>{return /^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/.test(e)||/^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(e)},i=e=>{return /^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(e)||/^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(e)};return{validate(t){if(t.value===''){return{valid:!0}}let u=typeof t.options.type==='string'?t.options.type.toString().replace(/s/g,'').split(','):t.options.type||e;for(let o of u){let u=o.toLowerCase();if(e.indexOf(u)===-1){continue}let c=!0;switch(u){case 'hex':c=r(t.value);break;case 'hsl':c=n(t.value);break;case 'hsla':c=s(t.value);break;case 'keyword':c=a(t.value);break;case 'rgb':c=l(t.value);break;case 'rgba':c=i(t.value);break}if(c){return{valid:!0}}}return{valid:!1}}}}function P(){return{validate(e){if(e.value===''){return{valid:!0}}let t=e.value.toUpperCase();if(!/^[0-9A-Z]{9}$/.test(t)){return{valid:!1}}let r=t.split('').map(e=>{let t=e.charCodeAt(0);return t>=65&&t<=90?t-65+10+'':e}),n=r.length,s=0;for(let e=0;e<n-1;e++){let t=parseInt(r[e],10);e%2!==0&&(t*=2);t>9&&(t-=9);s+=t}s=(10-s%10)%10;return{valid:s===parseInt(r[n-1],10)}}}}function K(){return{validate(e){if(e.value===''){return{valid:!0}}if(!/^(\d{8}|\d{12}|\d{13})$/.test(e.value)){return{valid:!1}}let t=e.value.length,r=0,n=t===8?[3,1]:[1,3];for(let s=0;s<t-1;s++)r+=parseInt(e.value.charAt(s),10)*n[s%2];r=(10-r%10)%10;return{valid:`${r}`===e.value.charAt(t-1)}}}}function Y(){let e={ANDOVER:['10','12'],ATLANTA:['60','67'],AUSTIN:['50','53'],BROOKHAVEN:['01','02','03','04','05','06','11','13','14','16','21','22','23','25','34','51','52','54','55','56','57','58','59','65'],CINCINNATI:['30','32','35','36','37','38','61'],FRESNO:['15','24'],INTERNET:['20','26','27','45','46','47'],KANSAS_CITY:['40','44'],MEMPHIS:['94','95'],OGDEN:['80','90'],PHILADELPHIA:['33','39','41','42','43','48','62','63','64','66','68','71','72','73','74','75','76','77','81','82','83','84','85','86','87','88','91','92','93','98','99'],SMALL_BUSINESS_ADMINISTRATION:['31']};return{validate(t){if(t.value===''){return{meta:null,valid:!0}}if(!/^[0-9]{2}-?[0-9]{7}$/.test(t.value)){return{meta:null,valid:!1}}let r=`${t.value.substr(0,2)}`;for(let t in e){if(e[t].indexOf(r)!==-1){return{meta:{campus:t},valid:!0}}}return{meta:null,valid:!1}}}}function U(){return{validate(e){if(e.value===''){return{valid:!0}}let t=e.value.toUpperCase();if(!/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(t)){return{valid:!1}}t=t.replace(/\s/g,'').replace(/-/g,'');'GRID:'===t.substr(0,5)&&(t=t.substr(5));return{valid:n(t)}}}}function W(){return{validate(e){return{valid:e.value===''||/^[0-9a-fA-F]+$/.test(e.value)}}}}function J(){let e={AD:'AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}',AE:'AE[0-9]{2}[0-9]{3}[0-9]{16}',AL:'AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}',AO:'AO[0-9]{2}[0-9]{21}',AT:'AT[0-9]{2}[0-9]{5}[0-9]{11}',AZ:'AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}',BA:'BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}',BE:'BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}',BF:'BF[0-9]{2}[0-9]{23}',BG:'BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}',BH:'BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}',BI:'BI[0-9]{2}[0-9]{12}',BJ:'BJ[0-9]{2}[A-Z]{1}[0-9]{23}',BR:'BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]',CH:'CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}',CI:'CI[0-9]{2}[A-Z]{1}[0-9]{23}',CM:'CM[0-9]{2}[0-9]{23}',CR:'CR[0-9]{2}[0-9]{3}[0-9]{14}',CV:'CV[0-9]{2}[0-9]{21}',CY:'CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}',CZ:'CZ[0-9]{2}[0-9]{20}',DE:'DE[0-9]{2}[0-9]{8}[0-9]{10}',DK:'DK[0-9]{2}[0-9]{14}',DO:'DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}',DZ:'DZ[0-9]{2}[0-9]{20}',EE:'EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}',ES:'ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}',FI:'FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}',FO:'FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}',FR:'FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}',GB:'GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}',GE:'GE[0-9]{2}[A-Z]{2}[0-9]{16}',GI:'GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}',GL:'GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}',GR:'GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}',GT:'GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}',HR:'HR[0-9]{2}[0-9]{7}[0-9]{10}',HU:'HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}',IE:'IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}',IL:'IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}',IR:'IR[0-9]{2}[0-9]{22}',IS:'IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}',IT:'IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}',JO:'JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}',KW:'KW[0-9]{2}[A-Z]{4}[0-9]{22}',KZ:'KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}',LB:'LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}',LI:'LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}',LT:'LT[0-9]{2}[0-9]{5}[0-9]{11}',LU:'LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}',LV:'LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}',MC:'MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}',MD:'MD[0-9]{2}[A-Z0-9]{20}',ME:'ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}',MG:'MG[0-9]{2}[0-9]{23}',MK:'MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}',ML:'ML[0-9]{2}[A-Z]{1}[0-9]{23}',MR:'MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}',MT:'MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}',MU:'MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}',MZ:'MZ[0-9]{2}[0-9]{21}',NL:'NL[0-9]{2}[A-Z]{4}[0-9]{10}',NO:'NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}',PK:'PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}',PL:'PL[0-9]{2}[0-9]{8}[0-9]{16}',PS:'PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}',PT:'PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}',QA:'QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}',RO:'RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}',RS:'RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}',SA:'SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}',SE:'SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}',SI:'SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}',SK:'SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}',SM:'SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}',SN:'SN[0-9]{2}[A-Z]{1}[0-9]{23}',TL:'TL38[0-9]{3}[0-9]{14}[0-9]{2}',TN:'TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}',TR:'TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}',VG:'VG[0-9]{2}[A-Z]{4}[0-9]{16}',XK:'XK[0-9]{2}[0-9]{4}[0-9]{10}[0-9]{2}'},t=['AT','BE','BG','CH','CY','CZ','DE','DK','EE','ES','FI','FR','GB','GI','GR','HR','HU','IE','IS','IT','LI','LT','LU','LV','MC','MT','NL','NO','PL','PT','RO','SE','SI','SK','SM'];return{validate(r){if(r.value===''){return{valid:!0}}let n=Object.assign({},r.options),s=r.value.replace(/[^a-zA-Z0-9]/g,'').toUpperCase(),a=n.country||s.substr(0,2);if(!e[a]){return{message:n.message,valid:!1}}if(n.sepa!==void 0){let e=t.indexOf(a)!==-1;if((n.sepa==='true'||n.sepa===!0)&&!e||(n.sepa==='false'||n.sepa===!1)&&e){return{message:n.message,valid:!1}}}let l=r.l10n?c(n.message||r.l10n.iban.country,r.l10n.iban.countries[a]):n.message;if(!(new RegExp(`^${e[a]}$`)).test(r.value)){return{message:l,valid:!1}}s=`${s.substr(4)}${s.substr(0,4)}`;s=s.split('').map(e=>{let t=e.charCodeAt(0);return t>=65&&t<=90?t-65+10:e}).join('');let i=parseInt(s.substr(0,1),10),u=s.length;for(let e=1;e<u;++e)i=(i*10+parseInt(s.substr(e,1),10))%97;return{message:l,valid:i===1}}}}function X(){let e=['BA','BG','BR','CH','CL','CN','CZ','DK','EE','ES','FI','HR','IE','IS','LT','LV','ME','MK','NL','PL','RO','RS','SE','SI','SK','SM','TH','TR','ZA'],n=(e,t)=>{if(!/^\d{13}$/.test(e)){return!1}let r=parseInt(e.substr(0,2),10),n=parseInt(e.substr(2,2),10),s=parseInt(e.substr(7,2),10),a=parseInt(e.substr(12,1),10);if(r>31||n>12){return!1}let l=0;for(let t=0;t<6;t++)l+=(7-t)*(parseInt(e.charAt(t),10)+parseInt(e.charAt(t+6),10));l=11-l%11;(l===10||l===11)&&(l=0);if(l!==a){return!1}switch(t.toUpperCase()){case 'BA':return 10<=s&&s<=19;case 'MK':return 41<=s&&s<=49;case 'ME':return 20<=s&&s<=29;case 'RS':return 70<=s&&s<=99;case 'SI':return 50<=s&&s<=59;default:return!0}},s=e=>{return n(e,'BA')},a=e=>{return n(e,'ME')},l=e=>{return n(e,'MK')},i=e=>{return n(e,'RS')},u=e=>{return n(e,'SI')},o=e=>{if(!/^\d{10}$/.test(e)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(e)){return!1}let t=e.replace(/\s/g,''),r=parseInt(t.substr(0,2),10)+1900,n=parseInt(t.substr(2,2),10),s=parseInt(t.substr(4,2),10);n>40?(r+=100,n-=40):n>20&&(r-=100,n-=20);if(!A(r,n,s)){return!1}let a=0,l=[2,4,8,5,10,9,7,3,6];for(let e=0;e<9;e++)a+=parseInt(t.charAt(e),10)*l[e];a=a%11%10;return`${a}`===t.substr(9,1)},d=e=>{let t=e.replace(/\D/g,'');if(!/^\d{11}$/.test(t)||/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(t)){return!1}let r=0,n;for(n=0;n<9;n++)r+=(10-n)*parseInt(t.charAt(n),10);r=11-r%11;(r===10||r===11)&&(r=0);if(`${r}`!==t.charAt(9)){return!1}let s=0;for(n=0;n<10;n++)s+=(11-n)*parseInt(t.charAt(n),10);s=11-s%11;(s===10||s===11)&&(s=0);return`${s}`===t.charAt(10)},f=e=>{if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(e)){return!1}let t=e.replace(/\D/g,'').substr(3),r=t.length,n=r===8?[3,1]:[1,3],s=0;for(let e=0;e<r-1;e++)s+=parseInt(t.charAt(e),10)*n[e%2];s=10-s%10;return`${s}`===t.charAt(r-1)},g=e=>{if(!/^\d{7,8}[-]{0,1}[0-9K]$/i.test(e)){return!1}let t=e.replace(/\-/g,'');while(t.length<9)t=`0${t}`;let r=[3,2,7,6,5,4,3,2],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];n=11-n%11;let s=`${n}`;n===11?(s='0'):n===10&&(s='K');return s===t.charAt(8).toUpperCase()},h=e=>{let t=e.trim();if(!/^\d{15}$/.test(t)&&!/^\d{17}[\dXx]{1}$/.test(t)){return!1}let r={11:{0:[0],1:[[0,9],[11,17]],2:[0,28,29]},12:{0:[0],1:[[0,16]],2:[0,21,23,25]},13:{0:[0],1:[[0,5],7,8,21,[23,33],[81,85]],2:[[0,5],[7,9],[23,25],27,29,30,81,83],3:[[0,4],[21,24]],4:[[0,4],6,21,[23,35],81],5:[[0,3],[21,35],81,82],6:[[0,4],[21,38],[81,84]],7:[[0,3],5,6,[21,33]],8:[[0,4],[21,28]],9:[[0,3],[21,30],[81,84]],10:[[0,3],[22,26],28,81,82],11:[[0,2],[21,28],81,82]},14:{0:[0],1:[0,1,[5,10],[21,23],81],2:[[0,3],11,12,[21,27]],3:[[0,3],11,21,22],4:[[0,2],11,21,[23,31],81],5:[[0,2],21,22,24,25,81],6:[[0,3],[21,24]],7:[[0,2],[21,29],81],8:[[0,2],[21,30],81,82],9:[[0,2],[21,32],81],10:[[0,2],[21,34],81,82],11:[[0,2],[21,30],81,82],23:[[0,3],22,23,[25,30],32,33]},15:{0:[0],1:[[0,5],[21,25]],2:[[0,7],[21,23]],3:[[0,4]],4:[[0,4],[21,26],[28,30]],5:[[0,2],[21,26],81],6:[[0,2],[21,27]],7:[[0,3],[21,27],[81,85]],8:[[0,2],[21,26]],9:[[0,2],[21,29],81],22:[[0,2],[21,24]],25:[[0,2],[22,31]],26:[[0,2],[24,27],[29,32],34],28:[0,1,[22,27]],29:[0,[21,23]]},21:{0:[0],1:[[0,6],[11,14],[22,24],81],2:[[0,4],[11,13],24,[81,83]],3:[[0,4],11,21,23,81],4:[[0,4],11,[21,23]],5:[[0,5],21,22],6:[[0,4],24,81,82],7:[[0,3],11,26,27,81,82],8:[[0,4],11,81,82],9:[[0,5],11,21,22],10:[[0,5],11,21,81],11:[[0,3],21,22],12:[[0,2],4,21,23,24,81,82],13:[[0,3],21,22,24,81,82],14:[[0,4],21,22,81]},22:{0:[0],1:[[0,6],12,22,[81,83]],2:[[0,4],11,21,[81,84]],3:[[0,3],22,23,81,82],4:[[0,3],21,22],5:[[0,3],21,23,24,81,82],6:[[0,2],4,5,[21,23],25,81],7:[[0,2],[21,24],81],8:[[0,2],21,22,81,82],24:[[0,6],24,26]},23:{0:[0],1:[[0,12],21,[23,29],[81,84]],2:[[0,8],21,[23,25],27,[29,31],81],3:[[0,7],21,81,82],4:[[0,7],21,22],5:[[0,3],5,6,[21,24]],6:[[0,6],[21,24]],7:[[0,16],22,81],8:[[0,5],11,22,26,28,33,81,82],9:[[0,4],21],10:[[0,5],24,25,81,[83,85]],11:[[0,2],21,23,24,81,82],12:[[0,2],[21,26],[81,83]],27:[[0,4],[21,23]]},31:{0:[0],1:[0,1,[3,10],[12,20]],2:[0,30]},32:{0:[0],1:[[0,7],11,[13,18],24,25],2:[[0,6],11,81,82],3:[[0,5],11,12,[21,24],81,82],4:[[0,2],4,5,11,12,81,82],5:[[0,9],[81,85]],6:[[0,2],11,12,21,23,[81,84]],7:[0,1,3,5,6,[21,24]],8:[[0,4],11,26,[29,31]],9:[[0,3],[21,25],28,81,82],10:[[0,3],11,12,23,81,84,88],11:[[0,2],11,12,[81,83]],12:[[0,4],[81,84]],13:[[0,2],11,[21,24]]},33:{0:[0],1:[[0,6],[8,10],22,27,82,83,85],2:[0,1,[3,6],11,12,25,26,[81,83]],3:[[0,4],22,24,[26,29],81,82],4:[[0,2],11,21,24,[81,83]],5:[[0,3],[21,23]],6:[[0,2],21,24,[81,83]],7:[[0,3],23,26,27,[81,84]],8:[[0,3],22,24,25,81],9:[[0,3],21,22],10:[[0,4],[21,24],81,82],11:[[0,2],[21,27],81]},34:{0:[0],1:[[0,4],11,[21,24],81],2:[[0,4],7,8,[21,23],25],3:[[0,4],11,[21,23]],4:[[0,6],21],5:[[0,4],6,[21,23]],6:[[0,4],21],7:[[0,3],11,21],8:[[0,3],11,[22,28],81],10:[[0,4],[21,24]],11:[[0,3],22,[24,26],81,82],12:[[0,4],21,22,25,26,82],13:[[0,2],[21,24]],14:[[0,2],[21,24]],15:[[0,3],[21,25]],16:[[0,2],[21,23]],17:[[0,2],[21,23]],18:[[0,2],[21,25],81]},35:{0:[0],1:[[0,5],11,[21,25],28,81,82],2:[[0,6],[11,13]],3:[[0,5],22],4:[[0,3],21,[23,30],81],5:[[0,5],21,[24,27],[81,83]],6:[[0,3],[22,29],81],7:[[0,2],[21,25],[81,84]],8:[[0,2],[21,25],81],9:[[0,2],[21,26],81,82]},36:{0:[0],1:[[0,5],11,[21,24]],2:[[0,3],22,81],3:[[0,2],13,[21,23]],4:[[0,3],21,[23,30],81,82],5:[[0,2],21],6:[[0,2],22,81],7:[[0,2],[21,35],81,82],8:[[0,3],[21,30],81],9:[[0,2],[21,26],[81,83]],10:[[0,2],[21,30]],11:[[0,2],[21,30],81]},37:{0:[0],1:[[0,5],12,13,[24,26],81],2:[[0,3],5,[11,14],[81,85]],3:[[0,6],[21,23]],4:[[0,6],81],5:[[0,3],[21,23]],6:[[0,2],[11,13],34,[81,87]],7:[[0,5],24,25,[81,86]],8:[[0,2],11,[26,32],[81,83]],9:[[0,3],11,21,23,82,83],10:[[0,2],[81,83]],11:[[0,3],21,22],12:[[0,3]],13:[[0,2],11,12,[21,29]],14:[[0,2],[21,28],81,82],15:[[0,2],[21,26],81],16:[[0,2],[21,26]],17:[[0,2],[21,28]]},41:{0:[0],1:[[0,6],8,22,[81,85]],2:[[0,5],11,[21,25]],3:[[0,7],11,[22,29],81],4:[[0,4],11,[21,23],25,81,82],5:[[0,3],5,6,22,23,26,27,81],6:[[0,3],11,21,22],7:[[0,4],11,21,[24,28],81,82],8:[[0,4],11,[21,23],25,[81,83]],9:[[0,2],22,23,[26,28]],10:[[0,2],[23,25],81,82],11:[[0,4],[21,23]],12:[[0,2],21,22,24,81,82],13:[[0,3],[21,30],81],14:[[0,3],[21,26],81],15:[[0,3],[21,28]],16:[[0,2],[21,28],81],17:[[0,2],[21,29]],90:[0,1]},42:{0:[0],1:[[0,7],[11,17]],2:[[0,5],22,81],3:[[0,3],[21,25],81],5:[[0,6],[25,29],[81,83]],6:[[0,2],6,7,[24,26],[82,84]],7:[[0,4]],8:[[0,2],4,21,22,81],9:[[0,2],[21,23],81,82,84],10:[[0,3],[22,24],81,83,87],11:[[0,2],[21,27],81,82],12:[[0,2],[21,24],81],13:[[0,3],21,81],28:[[0,2],22,23,[25,28]],90:[0,[4,6],21]},43:{0:[0],1:[[0,5],11,12,21,22,24,81],2:[[0,4],11,21,[23,25],81],3:[[0,2],4,21,81,82],4:[0,1,[5,8],12,[21,24],26,81,82],5:[[0,3],11,[21,25],[27,29],81],6:[[0,3],11,21,23,24,26,81,82],7:[[0,3],[21,26],81],8:[[0,2],11,21,22],9:[[0,3],[21,23],81],10:[[0,3],[21,28],81],11:[[0,3],[21,29]],12:[[0,2],[21,30],81],13:[[0,2],21,22,81,82],31:[0,1,[22,27],30]},44:{0:[0],1:[[0,7],[11,16],83,84],2:[[0,5],21,22,24,29,32,33,81,82],3:[0,1,[3,8]],4:[[0,4]],5:[0,1,[6,15],23,82,83],6:[0,1,[4,8]],7:[0,1,[3,5],81,[83,85]],8:[[0,4],11,23,25,[81,83]],9:[[0,3],23,[81,83]],12:[[0,3],[23,26],83,84],13:[[0,3],[22,24],81],14:[[0,2],[21,24],26,27,81],15:[[0,2],21,23,81],16:[[0,2],[21,25]],17:[[0,2],21,23,81],18:[[0,3],21,23,[25,27],81,82],19:[0],20:[0],51:[[0,3],21,22],52:[[0,3],21,22,24,81],53:[[0,2],[21,23],81]},45:{0:[0],1:[[0,9],[21,27]],2:[[0,5],[21,26]],3:[[0,5],11,12,[21,32]],4:[0,1,[3,6],11,[21,23],81],5:[[0,3],12,21],6:[[0,3],21,81],7:[[0,3],21,22],8:[[0,4],21,81],9:[[0,3],[21,24],81],10:[[0,2],[21,31]],11:[[0,2],[21,23]],12:[[0,2],[21,29],81],13:[[0,2],[21,24],81],14:[[0,2],[21,25],81]},46:{0:[0],1:[0,1,[5,8]],2:[0,1],3:[0,[21,23]],90:[[0,3],[5,7],[21,39]]},50:{0:[0],1:[[0,19]],2:[0,[22,38],[40,43]],3:[0,[81,84]]},51:{0:[0],1:[0,1,[4,8],[12,15],[21,24],29,31,32,[81,84]],3:[[0,4],11,21,22],4:[[0,3],11,21,22],5:[[0,4],21,22,24,25],6:[0,1,3,23,26,[81,83]],7:[0,1,3,4,[22,27],81],8:[[0,2],11,12,[21,24]],9:[[0,4],[21,23]],10:[[0,2],11,24,25,28],11:[[0,2],[11,13],23,24,26,29,32,33,81],13:[[0,4],[21,25],81],14:[[0,2],[21,25]],15:[[0,3],[21,29]],16:[[0,3],[21,23],81],17:[[0,3],[21,25],81],18:[[0,3],[21,27]],19:[[0,3],[21,23]],20:[[0,2],21,22,81],32:[0,[21,33]],33:[0,[21,38]],34:[0,1,[22,37]]},52:{0:[0],1:[[0,3],[11,15],[21,23],81],2:[0,1,3,21,22],3:[[0,3],[21,30],81,82],4:[[0,2],[21,25]],5:[[0,2],[21,27]],6:[[0,3],[21,28]],22:[0,1,[22,30]],23:[0,1,[22,28]],24:[0,1,[22,28]],26:[0,1,[22,36]],27:[[0,2],22,23,[25,32]]},53:{0:[0],1:[[0,3],[11,14],21,22,[24,29],81],3:[[0,2],[21,26],28,81],4:[[0,2],[21,28]],5:[[0,2],[21,24]],6:[[0,2],[21,30]],7:[[0,2],[21,24]],8:[[0,2],[21,29]],9:[[0,2],[21,27]],23:[0,1,[22,29],31],25:[[0,4],[22,32]],26:[0,1,[21,28]],27:[0,1,[22,30]],28:[0,1,22,23],29:[0,1,[22,32]],31:[0,2,3,[22,24]],34:[0,[21,23]],33:[0,21,[23,25]],35:[0,[21,28]]},54:{0:[0],1:[[0,2],[21,27]],21:[0,[21,29],32,33],22:[0,[21,29],[31,33]],23:[0,1,[22,38]],24:[0,[21,31]],25:[0,[21,27]],26:[0,[21,27]]},61:{0:[0],1:[[0,4],[11,16],22,[24,26]],2:[[0,4],22],3:[[0,4],[21,24],[26,31]],4:[[0,4],[22,31],81],5:[[0,2],[21,28],81,82],6:[[0,2],[21,32]],7:[[0,2],[21,30]],8:[[0,2],[21,31]],9:[[0,2],[21,29]],10:[[0,2],[21,26]]},62:{0:[0],1:[[0,5],11,[21,23]],2:[0,1],3:[[0,2],21],4:[[0,3],[21,23]],5:[[0,3],[21,25]],6:[[0,2],[21,23]],7:[[0,2],[21,25]],8:[[0,2],[21,26]],9:[[0,2],[21,24],81,82],10:[[0,2],[21,27]],11:[[0,2],[21,26]],12:[[0,2],[21,28]],24:[0,21,[24,29]],26:[0,21,[23,30]],29:[0,1,[21,27]],30:[0,1,[21,27]]},63:{0:[0],1:[[0,5],[21,23]],2:[0,2,[21,25]],21:[0,[21,23],[26,28]],22:[0,[21,24]],23:[0,[21,24]],25:[0,[21,25]],26:[0,[21,26]],27:[0,1,[21,26]],28:[[0,2],[21,23]]},64:{0:[0],1:[0,1,[4,6],21,22,81],2:[[0,3],5,[21,23]],3:[[0,3],[21,24],81],4:[[0,2],[21,25]],5:[[0,2],21,22]},65:{0:[0],1:[[0,9],21],2:[[0,5]],21:[0,1,22,23],22:[0,1,22,23],23:[[0,3],[23,25],27,28],28:[0,1,[22,29]],29:[0,1,[22,29]],30:[0,1,[22,24]],31:[0,1,[21,31]],32:[0,1,[21,27]],40:[0,2,3,[21,28]],42:[[0,2],21,[23,26]],43:[0,1,[21,26]],90:[[0,4]],27:[[0,2],22,23]},71:{0:[0]},81:{0:[0]},82:{0:[0]}},n=parseInt(t.substr(0,2),10),s=parseInt(t.substr(2,2),10),a=parseInt(t.substr(4,2),10);if(!r[n]||!r[n][s]){return!1}let l=!1,i=r[n][s],u;for(u=0;u<i.length;u++){if(Array.isArray(i[u])&&i[u][0]<=a&&a<=i[u][1]||!Array.isArray(i[u])&&a===i[u]){l=!0;break}}if(!l){return!1}let o;t.length===18?(o=t.substr(6,8)):(o=`19${t.substr(6,6)}`);let c=parseInt(o.substr(0,4),10),d=parseInt(o.substr(4,2),10),f=parseInt(o.substr(6,2),10);if(!A(c,d,f)){return!1}if(t.length===18){let e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=0;for(u=0;u<17;u++)r+=parseInt(t.charAt(u),10)*e[u];r=(12-r%11)%11;let n=t.charAt(17).toUpperCase()!=='X'?parseInt(t.charAt(17),10):10;return n===r}return!0},p=e=>{if(!/^\d{9,10}$/.test(e)){return!1}let t=1900+parseInt(e.substr(0,2),10),r=parseInt(e.substr(2,2),10)%50%20,n=parseInt(e.substr(4,2),10);if(e.length===9){t>=1980&&(t-=100);if(t>1953){return!1}}else t<1954&&(t+=100);if(!A(t,r,n)){return!1}if(e.length===10){let r=parseInt(e.substr(0,9),10)%11;t<1985&&(r%=10);return`${r}`===e.substr(9,1)}return!0},m=e=>{if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(e)){return!1}let t=e.replace(/-/g,''),r=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),s=parseInt(t.substr(4,2),10);switch(!0){case '5678'.indexOf(t.charAt(6))!==-1&&s>=58:s+=1800;break;case '0123'.indexOf(t.charAt(6))!==-1:;case '49'.indexOf(t.charAt(6))!==-1&&s>=37:s+=1900;break;default:s+=2e3;break}return A(s,n,r)},b=e=>{return V(e)},v=e=>{let t=/^[0-9]{8}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(e),r=/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(e),n=/^[A-HNPQS][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-J]$/.test(e);if(!t&&!r&&!n){return{meta:null,valid:!1}}let s=e.replace(/-/g,''),a,l,i=!0;if(t||r){l='DNI';let e='XYZ'.indexOf(s.charAt(0));e!==-1&&(s=e+s.substr(1)+'',l='NIE');a=parseInt(s.substr(0,8),10);a='TRWAGMYFPDXBNJZSQVHLCKE'[a%23];return{meta:{type:l},valid:a===s.substr(8,1)}}else{a=s.substr(1,7);l='CIF';let e=s[0],t=s.substr(-1),r=0;for(let e=0;e<a.length;e++){if(e%2!==0)r+=parseInt(a[e],10);else{let t=''+parseInt(a[e],10)*2;r+=parseInt(t[0],10);t.length===2&&(r+=parseInt(t[1],10))}}let n=r-Math.floor(r/10)*10;n!==0&&(n=10-n);'KQS'.indexOf(e)!==-1?(i=t==='JABCDEFGHI'[n]):'ABEH'.indexOf(e)!==-1?(i=t===''+n):(i=t===''+n||t==='JABCDEFGHI'[n]);return{meta:{type:l},valid:i}}},E=e=>{if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(e)){return!1}let t=parseInt(e.substr(0,2),10),r=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10),s={'+':1800,'-':1900,'A':2e3};n=s[e.charAt(6)]+n;if(!A(n,r,t)){return!1}let a=parseInt(e.substr(7,3),10);if(a<2){return!1}let l=parseInt(e.substr(0,6)+e.substr(7,3)+'',10);return'0123456789ABCDEFHJKLMNPRSTUVWXY'.charAt(l%31)===e.charAt(10)},C=e=>{return /^[0-9]{11}$/.test(e)&&r(e)},S=e=>{if(!/^\d{7}[A-W][AHWTX]?$/.test(e)){return!1}let t=e=>{let t=e;while(t.length<7)t=`0${t}`;let r='WABCDEFGHIJKLMNOPQRSTUV',n=0;for(let e=0;e<7;e++)n+=parseInt(t.charAt(e),10)*(8-e);n+=9*r.indexOf(t.substr(7));return r[n%23]};if(e.length===9&&('A'===e.charAt(8)||'H'===e.charAt(8))){return e.charAt(7)===t(e.substr(0,7)+e.substr(8)+'')}else{return e.charAt(7)===t(e.substr(0,7))}},y=e=>{if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(e)){return!1}let t=e.replace(/-/g,''),r=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),s=parseInt(t.substr(4,2),10),a=parseInt(t.charAt(9),10);s=a===9?1900+s:(20+a)*100+s;if(!A(s,n,r,!0)){return!1}let l=[3,2,7,6,5,4,3,2],i=0;for(let e=0;e<8;e++)i+=parseInt(t.charAt(e),10)*l[e];i=11-i%11;return`${i}`===t.charAt(8)},V=e=>{if(!/^[0-9]{11}$/.test(e)){return!1}let t=parseInt(e.charAt(0),10),r=parseInt(e.substr(1,2),10),n=parseInt(e.substr(3,2),10),s=parseInt(e.substr(5,2),10),a=t%2===0?17+t/2:17+(t+1)/2;r=a*100+r;if(!A(r,n,s,!0)){return!1}let l=[1,2,3,4,5,6,7,8,9,1],i=0,u;for(u=0;u<10;u++)i+=parseInt(e.charAt(u),10)*l[u];i%=11;if(i!==10){return`${i}`===e.charAt(10)}i=0;l=[3,4,5,6,7,8,9,1,2,3];for(u=0;u<10;u++)i+=parseInt(e.charAt(u),10)*l[u];i%=11;i===10&&(i=0);return`${i}`===e.charAt(10)},w=e=>{if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(e)){return!1}let t=e.replace(/\D/g,''),r=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),s=parseInt(t.substr(4,2),10);s=s+1800+parseInt(t.charAt(6),10)*100;if(!A(s,n,r,!0)){return!1}let a=0,l=[10,5,8,4,2,1,6,3,7,9];for(let e=0;e<10;e++)a+=parseInt(t.charAt(e),10)*l[e];a=(a+1)%11%10;return`${a}`===t.charAt(10)},H=e=>{if(e.length<8){return!1}let t=e;t.length===8&&(t=`0${t}`);if(!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(t)){return!1}t=t.replace(/\./g,'');if(parseInt(t,10)===0){return!1}let r=0,n=t.length;for(let e=0;e<n-1;e++)r+=(9-e)*parseInt(t.charAt(e),10);r%=11;r===10&&(r=0);return`${r}`===t.charAt(n-1)},M=e=>{if(!/^[0-9]{11}$/.test(e)){return!1}let t=0,r=e.length,n=[1,3,7,9,1,3,7,9,1,3,7];for(let s=0;s<r-1;s++)t+=n[s]*parseInt(e.charAt(s),10);t%=10;t===0&&(t=10);t=10-t;return`${t}`===e.charAt(r-1)},L=e=>{if(!/^[0-9]{13}$/.test(e)){return!1}let t=parseInt(e.charAt(0),10);if(t===0||t===7||t===8){return!1}let r=parseInt(e.substr(1,2),10),n=parseInt(e.substr(3,2),10),s=parseInt(e.substr(5,2),10),a={1:1900,2:1900,3:1800,4:1800,5:2e3,6:2e3};if(s>31&&n>12){return!1}if(t!==9){r=a[t+'']+r;if(!A(r,n,s)){return!1}}let l=0,i=[2,7,9,1,4,6,3,5,8,2,7,9],u=e.length;for(let t=0;t<u-1;t++)l+=parseInt(e.charAt(t),10)*i[t];l%=11;l===10&&(l=1);return`${l}`===e.charAt(u-1)},I=e=>{if(!/^[0-9]{10}$/.test(e)&&!/^[0-9]{6}[-|+][0-9]{4}$/.test(e)){return!1}let r=e.replace(/[^0-9]/g,''),n=parseInt(r.substr(0,2),10)+1900,s=parseInt(r.substr(2,2),10),a=parseInt(r.substr(4,2),10);if(!A(n,s,a)){return!1}return t(r)},N=e=>{return p(e)},Z=e=>{return /^\d{5}$/.test(e)},F=e=>{if(e.length!==13){return!1}let t=0;for(let r=0;r<12;r++)t+=parseInt(e.charAt(r),10)*(13-r);return(11-t%11)%10===parseInt(e.charAt(12),10)},x=e=>{if(e.length!==11){return!1}let t=0;for(let r=0;r<10;r++)t+=parseInt(e.charAt(r),10);return t%10===parseInt(e.charAt(10),10)},T=e=>{if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(e)){return!1}let r=parseInt(e.substr(0,2),10),n=new Date.getFullYear()%100,s=parseInt(e.substr(2,2),10),a=parseInt(e.substr(4,2),10);r=r>=n?r+1900:r+2e3;if(!A(r,s,a)){return!1}return t(e)};return{validate(t){if(t.value===''){return{valid:!0}}let r=Object.assign({},t.options),n=t.value.substr(0,2);'function'===typeof r.country?(n=r.country.call(this)):(n=r.country);if(e.indexOf(n)===-1){return{valid:!0}}let A={meta:{},valid:!0};switch(n.toLowerCase()){case 'ba':A.valid=s(t.value);break;case 'bg':A.valid=o(t.value);break;case 'br':A.valid=d(t.value);break;case 'ch':A.valid=f(t.value);break;case 'cl':A.valid=g(t.value);break;case 'cn':A.valid=h(t.value);break;case 'cz':A.valid=p(t.value);break;case 'dk':A.valid=m(t.value);break;case 'ee':A.valid=b(t.value);break;case 'es':A=v(t.value);break;case 'fi':A.valid=E(t.value);break;case 'hr':A.valid=C(t.value);break;case 'ie':A.valid=S(t.value);break;case 'is':A.valid=y(t.value);break;case 'lt':A.valid=V(t.value);break;case 'lv':A.valid=w(t.value);break;case 'me':A.valid=a(t.value);break;case 'mk':A.valid=l(t.value);break;case 'nl':A.valid=H(t.value);break;case 'pl':A.valid=M(t.value);break;case 'ro':A.valid=L(t.value);break;case 'rs':A.valid=i(t.value);break;case 'se':A.valid=I(t.value);break;case 'si':A.valid=u(t.value);break;case 'sk':A.valid=N(t.value);break;case 'sm':A.valid=Z(t.value);break;case 'th':A.valid=F(t.value);break;case 'tr':A.valid=x(t.value);break;case 'za':A.valid=T(t.value);break}let R=t.l10n?c(r.message||t.l10n.id.country,t.l10n.id.countries[n.toUpperCase()]):r.message;return Object.assign({},{message:R},A)}}}function Q(){return{validate(e){if(e.value===''){return{valid:!0}}switch(!0){case /^\d{15}$/.test(e.value):;case /^\d{2}-\d{6}-\d{6}-\d{1}$/.test(e.value):;case /^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(e.value):let r=e.value.replace(/[^0-9]/g,'');return{valid:t(r)};case /^\d{14}$/.test(e.value):;case /^\d{16}$/.test(e.value):;case /^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(e.value):;case /^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(e.value):return{valid:!0};default:return{valid:!1}}}}}function z(){return{validate(e){if(e.value===''){return{valid:!0}}if(!/^IMO \d{7}$/i.test(e.value)){return{valid:!1}}let t=e.value.replace(/^.*(\d{7})$/,'$1'),r=0;for(let e=6;e>=1;e--)r+=parseInt(t.slice((6-e),-e),10)*(e+1);return{valid:r%10===parseInt(t.charAt(6),10)}}}}function q(){return{validate(e){if(e.value===''){return{meta:{type:null},valid:!0}}let t;switch(!0){case /^\d{9}[\dX]$/.test(e.value):;case e.value.length===13&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(e.value):;case e.value.length===13&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(e.value):t='ISBN10';break;case /^(978|979)\d{9}[\dX]$/.test(e.value):;case e.value.length===17&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(e.value):;case e.value.length===17&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(e.value):t='ISBN13';break;default:return{meta:{type:null},valid:!1}}let r=e.value.replace(/[^0-9X]/gi,'').split(''),n=r.length,s=0,a,l;switch(t){case 'ISBN10':s=0;for(a=0;a<n-1;a++)s+=parseInt(r[a],10)*(10-a);l=11-s%11;l===11?(l=0):l===10&&(l='X');return{meta:{type:t},valid:`${l}`===r[n-1]};case 'ISBN13':s=0;for(a=0;a<n-1;a++)s+=a%2===0?parseInt(r[a],10):parseInt(r[a],10)*3;l=10-s%10;l===10&&(l='0');return{meta:{type:t},valid:`${l}`===r[n-1]}}}}}function _(){let e="AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW";return{validate(t){if(t.value===''){return{valid:!0}}let r=t.value.toUpperCase(),n=new RegExp('^('+e+')[0-9A-Z]{10}$');if(!n.test(t.value)){return{valid:!1}}let s=r.length,a='',l;for(l=0;l<s-1;l++){let e=r.charCodeAt(l);a+=e>57?(e-55).toString():r.charAt(l)}let i='',u=a.length,o=u%2!==0?0:1;for(l=0;l<u;l++)i+=parseInt(a[l],10)*(l%2===o?2:1)+'';let c=0;for(l=0;l<i.length;l++)c+=parseInt(i.charAt(l),10);c=(10-c%10)%10;return{valid:`${c}`===r.charAt(s-1)}}}}function j(){return{validate(e){if(e.value===''){return{meta:null,valid:!0}}let t;switch(!0){case /^M\d{9}$/.test(e.value):;case /^M-\d{4}-\d{4}-\d{1}$/.test(e.value):;case /^M\s\d{4}\s\d{4}\s\d{1}$/.test(e.value):t='ISMN10';break;case /^9790\d{9}$/.test(e.value):;case /^979-0-\d{4}-\d{4}-\d{1}$/.test(e.value):;case /^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(e.value):t='ISMN13';break;default:return{meta:null,valid:!1}}let r=e.value;'ISMN10'===t&&(r=`9790${r.substr(1)}`);r=r.replace(/[^0-9]/gi,'');let n=0,s=r.length,a=[1,3];for(let e=0;e<s-1;e++)n+=parseInt(r.charAt(e),10)*a[e%2];n=10-n%10;return{meta:{type:t},valid:`${n}`===r.charAt(s-1)}}}}function $(){return{validate(e){if(e.value===''){return{valid:!0}}if(!/^\d{4}\-\d{3}[\dX]$/.test(e.value)){return{valid:!1}}let t=e.value.replace(/[^0-9X]/gi,'').split(''),r=t.length,n=0;t[7]==='X'&&(t[7]='10');for(let e=0;e<r;e++)n+=parseInt(t[e],10)*(8-e);return{valid:n%11===0}}}}function ee(){return{validate(e){return{valid:e.value===''||/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(e.value)||/^([0-9A-Fa-f]{4}\.){2}([0-9A-Fa-f]{4})$/.test(e.value)}}}}function te(){return{validate(e){if(e.value===''){return{valid:!0}}let r=e.value;switch(!0){case /^[0-9A-F]{15}$/i.test(r):;case /^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}[- ][0-9A-F]$/i.test(r):;case /^\d{19}$/.test(r):;case /^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}[- ]\d$/.test(r):let l=r.charAt(r.length-1);r=r.replace(/[- ]/g,'');if(r.match(/^\d*$/i)){return{valid:t(r)}};r=r.slice(0,-1);let a='';let s;for(s=1;s<=13;s+=2)a+=(parseInt(r.charAt(s),16)*2).toString(16);let n=0;for(s=0;s<a.length;s++)n+=parseInt(a.charAt(s),16);return{valid:n%10===0?l==='0':l===((Math.floor((n+10)/10)*10-n)*2).toString(16)};case /^[0-9A-F]{14}$/i.test(r):;case /^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}$/i.test(r):;case /^\d{18}$/.test(r):;case /^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}$/.test(r):return{valid:!0};default:return{valid:!1}}}}}function re(){let e=['AE','BG','BR','CN','CZ','DE','DK','ES','FR','GB','IN','MA','NL','PK','RO','RU','SK','TH','US','VE'];return{validate(t){if(t.value===''){return{valid:!0}}let r=Object.assign({},t.options),n=t.value.trim(),s=n.substr(0,2);'function'===typeof r.country?(s=r.country.call(this)):(s=r.country);if(!s||e.indexOf(s.toUpperCase())===-1){return{valid:!0}}let a=!0;switch(s.toUpperCase()){case 'AE':a=/^(((\+|00)?971[\s\.-]?(\(0\)[\s\.-]?)?|0)(\(5(0|2|5|6)\)|5(0|2|5|6)|2|3|4|6|7|9)|60)([\s\.-]?[0-9]){7}$/.test(n);break;case 'BG':a=/^(0|359|00)(((700|900)[0-9]{5}|((800)[0-9]{5}|(800)[0-9]{4}))|(87|88|89)([0-9]{7})|((2[0-9]{7})|(([3-9][0-9])(([0-9]{6})|([0-9]{5})))))$/.test(n.replace(/\+|\s|-|\/|\(|\)/gi,''));break;case 'BR':a=/^(([\d]{4}[-.\s]{1}[\d]{2,3}[-.\s]{1}[\d]{2}[-.\s]{1}[\d]{2})|([\d]{4}[-.\s]{1}[\d]{3}[-.\s]{1}[\d]{4})|((\(?\+?[0-9]{2}\)?\s?)?(\(?\d{2}\)?\s?)?\d{4,5}[-.\s]?\d{4}))$/.test(n);break;case 'CN':a=/^((00|\+)?(86(?:-| )))?((\d{11})|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{7,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(n);break;case 'CZ':a=/^(((00)([- ]?)|\+)(420)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(n);break;case 'DE':a=/^(((((((00|\+)49[ \-/]?)|0)[1-9][0-9]{1,4})[ \-/]?)|((((00|\+)49\()|\(0)[1-9][0-9]{1,4}\)[ \-/]?))[0-9]{1,7}([ \-/]?[0-9]{1,5})?)$/.test(n);break;case 'DK':a=/^(\+45|0045|\(45\))?\s?[2-9](\s?\d){7}$/.test(n);break;case 'ES':a=/^(?:(?:(?:\+|00)34\D?))?(?:5|6|7|8|9)(?:\d\D?){8}$/.test(n);break;case 'FR':a=/^(?:(?:(?:\+|00)33[ ]?(?:\(0\)[ ]?)?)|0){1}[1-9]{1}([ .-]?)(?:\d{2}\1?){3}\d{2}$/.test(n);break;case 'GB':a=/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/.test(n);break;case 'IN':a=/((\+?)((0[ -]+)*|(91 )*)(\d{12}|\d{10}))|\d{5}([- ]*)\d{6}/.test(n);break;case 'MA':a=/^(?:(?:(?:\+|00)212[\s]?(?:[\s]?\(0\)[\s]?)?)|0){1}(?:5[\s.-]?[2-3]|6[\s.-]?[13-9]){1}[0-9]{1}(?:[\s.-]?\d{2}){3}$/.test(n);break;case 'NL':a=/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9])((\s|\s?-\s?)?[0-9])((\s|\s?-\s?)?[0-9])\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]$/gm.test(n);break;case 'PK':a=/^0?3[0-9]{2}[0-9]{7}$/.test(n);break;case 'RO':a=/^(\+4|)?(07[0-8]{1}[0-9]{1}|02[0-9]{2}|03[0-9]{2}){1}?(\s|\.|\-)?([0-9]{3}(\s|\.|\-|)){2}$/g.test(n);break;case 'RU':a=/^((8|\+7|007)[\-\.\/ ]?)?([\(\/\.]?\d{3}[\)\/\.]?[\-\.\/ ]?)?[\d\-\.\/ ]{7,10}$/g.test(n);break;case 'SK':a=/^(((00)([- ]?)|\+)(421)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(n);break;case 'TH':a=/^0\(?([6|8-9]{2})*-([0-9]{3})*-([0-9]{4})$/.test(n);break;case 'VE':a=/^0(?:2(?:12|4[0-9]|5[1-9]|6[0-9]|7[0-8]|8[1-35-8]|9[1-5]|3[45789])|4(?:1[246]|2[46]))\d{7}$/.test(n);break;case 'US':;default:a=/^(?:(1\-?)|(\+1 ?))?\(?\d{3}\)?[\-\.\s]?\d{3}[\-\.\s]?\d{4}$/.test(n);break}return{message:t.l10n?c(r.message||t.l10n.phone.country,t.l10n.phone.countries[s]):r.message,valid:a}}}}function ne(){return{validate(e){if(e.value===''){return{valid:!0}}if(!/^\d{9}$/.test(e.value)){return{valid:!1}}let t=0;for(let r=0;r<e.value.length;r+=3)t+=parseInt(e.value.charAt(r),10)*3+parseInt(e.value.charAt(r+1),10)*7+parseInt(e.value.charAt(r+2),10);return{valid:t!==0&&t%10===0}}}}function se(){return{validate(e){if(e.value===''){return{valid:!0}}let t=e.value.toUpperCase();if(!/^[0-9A-Z]{7}$/.test(t)){return{valid:!1}}let r=[1,3,1,7,3,9,1],n=t.length,s=0;for(let e=0;e<n-1;e++)s+=r[e]*parseInt(t.charAt(e),36);s=(10-s%10)%10;return{valid:`${s}`===t.charAt(n-1)}}}}function ae(){return{validate(e){return{valid:e.value===''||/^\d{9}$/.test(e.value)&&t(e.value)}}}}function le(){return{validate(e){if(e.value===''){return{valid:!0}}let t=e.value.length,r=0,n;for(let s=0;s<t;s++)n=parseInt(e.value.charAt(s),10),s%2===0&&(n*=2,n>9&&(n-=9)),r+=n;return{valid:r%10===0}}}}function ie(){let e=(e,t)=>{let r=Math.pow(10,t),n=e*r,s;switch(!0){case n===0:s=0;break;case n>0:s=1;break;case n<0:s=-1;break}let a=n%1===.5*s;return a?(Math.floor(n)+(s>0?1:0))/r:Math.round(n)/r},t=(t,r)=>{if(r===0){return 1}let n=`${t}`.split('.'),s=`${r}`.split('.'),a=(n.length===1?0:n[1].length)+(s.length===1?0:s[1].length);return e(t-r*Math.floor(t/r),a)};return{validate(e){if(e.value===''){return{valid:!0}}let r=parseFloat(e.value);if(isNaN(r)||!isFinite(r)){return{valid:!1}}let n=Object.assign({},{baseValue:0,step:1},e.options),s=t(r-n.baseValue,n.step);return{message:e.l10n?c(n.message||e.l10n.step.default,`${n.step}`):n.message,valid:s===0||s===n.step}}}}function ue(){return{validate(e){if(e.value===''){return{valid:!0}}let t=Object.assign({},e.options),r={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},n=t.version?`${t.version}`:'all';return{message:t.version?(e.l10n?c(t.message||e.l10n.uuid.version,t.version):t.message):(e.l10n?e.l10n.uuid.default:t.message),valid:null===r[n]?!0:r[n].test(e.value)}}}}function oe(){let e=()=>{return{at:e=>{let t=e;/^ATU[0-9]{8}$/.test(t)&&(t=t.substr(2));if(!/^U[0-9]{8}$/.test(t)){return!1}t=t.substr(1);let r=[1,2,1,2,1,2,1],n=0,s=0;for(let e=0;e<7;e++)s=parseInt(t.charAt(e),10)*r[e],s>9&&(s=Math.floor(s/10)+s%10),n+=s;n=10-(n+4)%10;n===10&&(n=0);return`${n}`===t.substr(7,1)},be:e=>{let t=e;/^BE[0]?[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0]?[0-9]{9}$/.test(t)){return!1}t.length===9&&(t=`0${t}`);if(t.substr(1,1)==='0'){return!1}let r=parseInt(t.substr(0,8),10)+parseInt(t.substr(8,2),10);return r%97===0},bg:e=>{let t=e;/^BG[0-9]{9,10}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9,10}$/.test(t)){return!1}let r=0,n=0;if(t.length===9){for(n=0;n<8;n++)r+=parseInt(t.charAt(n),10)*(n+1);r%=11;if(r===10){r=0;for(n=0;n<8;n++)r+=parseInt(t.charAt(n),10)*(n+3)}r%=10;return`${r}`===t.substr(8)}else if(t.length===10){let e=e=>{let t=parseInt(e.substr(0,2),10)+1900,r=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);r>40?(t+=100,r-=40):r>20&&(t-=100,r-=20);if(!A(t,r,n)){return!1}let s=[2,4,8,5,10,9,7,3,6],a=0;for(let t=0;t<9;t++)a+=parseInt(e.charAt(t),10)*s[t];a=a%11%10;return`${a}`===e.substr(9,1)},r=e=>{let t=[21,19,17,13,11,9,7,3,1],r=0;for(let n=0;n<9;n++)r+=parseInt(e.charAt(n),10)*t[n];r%=10;return`${r}`===e.substr(9,1)},n=e=>{let t=[4,3,2,7,6,5,4,3,2],r=0;for(let n=0;n<9;n++)r+=parseInt(e.charAt(n),10)*t[n];r=11-r%11;if(r===10){return!1}r===11&&(r=0);return`${r}`===e.substr(9,1)};return e(t)||r(t)||n(t)}return!1},br:e=>{if(e===''){return!0}let t=e.replace(/[^\d]+/g,'');if(t===''||t.length!==14){return!1}if(t==='00000000000000'||t==='11111111111111'||t==='22222222222222'||t==='33333333333333'||t==='44444444444444'||t==='55555555555555'||t==='66666666666666'||t==='77777777777777'||t==='88888888888888'||t==='99999999999999'){return!1}let r=t.length-2,n=t.substring(0,r),s=t.substring(r),a=0,l=r-7,i;for(i=r;i>=1;i--)a+=parseInt(n.charAt(r-i),10)*l--,l<2&&(l=9);let u=a%11<2?0:11-a%11;if(u!==parseInt(s.charAt(0),10)){return!1}r+=1;n=t.substring(0,r);a=0;l=r-7;for(i=r;i>=1;i--)a+=parseInt(n.charAt(r-i),10)*l--,l<2&&(l=9);u=a%11<2?0:11-a%11;return u===parseInt(s.charAt(1),10)},ch:e=>{let t=e;/^CHE[0-9]{9}(MWST)?$/.test(t)&&(t=t.substr(2));if(!/^E[0-9]{9}(MWST)?$/.test(t)){return!1}t=t.substr(1);let r=[5,4,3,2,7,6,5,4],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];n=11-n%11;if(n===10){return!1}n===11&&(n=0);return`${n}`===t.substr(8,1)},cy:e=>{let t=e;/^CY[0-5|9][0-9]{7}[A-Z]$/.test(t)&&(t=t.substr(2));if(!/^[0-5|9][0-9]{7}[A-Z]$/.test(t)){return!1}if(t.substr(0,2)==='12'){return!1}let r=0,n={0:1,1:0,2:5,3:7,4:9,5:13,6:15,7:17,8:19,9:21};for(let e=0;e<8;e++){let s=parseInt(t.charAt(e),10);e%2===0&&(s=n[`${s}`]);r+=s}return`${'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[r%26]}`===t.substr(8,1)},cz:e=>{let t=e;/^CZ[0-9]{8,10}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{8,10}$/.test(t)){return!1}let r=0,n=0;if(t.length===8){if(`${t.charAt(0)}`==='9'){return!1}r=0;for(n=0;n<7;n++)r+=parseInt(t.charAt(n),10)*(8-n);r=11-r%11;r===10&&(r=0);r===11&&(r=1);return`${r}`===t.substr(7,1)}else if(t.length===9&&`${t.charAt(0)}`==='6'){r=0;for(n=0;n<7;n++)r+=parseInt(t.charAt(n+1),10)*(8-n);r=11-r%11;r===10&&(r=0);r===11&&(r=1);r=[8,7,6,5,4,3,2,1,0,9,10][r-1];return`${r}`===t.substr(8,1)}else if(t.length===9||t.length===10){let e=1900+parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10)%50%20,n=parseInt(t.substr(4,2),10);if(t.length===9){e>=1980&&(e-=100);if(e>1953){return!1}}else e<1954&&(e+=100);if(!A(e,r,n)){return!1}if(t.length===10){let r=parseInt(t.substr(0,9),10)%11;e<1985&&(r%=10);return`${r}`===t.substr(9,1)}return!0}return!1},de:e=>{let t=e;/^DE[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)){return!1}return r(t)},dk:e=>{let t=e;/^DK[0-9]{8}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{8}$/.test(t)){return!1}let r=0,n=[2,7,6,5,4,3,2,1];for(let e=0;e<8;e++)r+=parseInt(t.charAt(e),10)*n[e];return r%11===0},ee:e=>{let t=e;/^EE[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)){return!1}let r=0,n=[3,7,1,3,7,1,3,7,1];for(let e=0;e<9;e++)r+=parseInt(t.charAt(e),10)*n[e];return r%10===0},es:e=>{let t=e;/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(t)&&(t=t.substr(2));if(!/^[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(t)){return{meta:null,valid:!1}}let r=e=>{let t=parseInt(e.substr(0,8),10);return`${'TRWAGMYFPDXBNJZSQVHLCKE'[t%23]}`===e.substr(8,1)},n=e=>{let t=['XYZ'.indexOf(e.charAt(0)),e.substr(1)].join(''),r='TRWAGMYFPDXBNJZSQVHLCKE'[parseInt(t,10)%23];return`${r}`===e.substr(8,1)},s=e=>{let t=e.charAt(0),r;if('KLM'.indexOf(t)!==-1){r=parseInt(e.substr(1,8),10);r='TRWAGMYFPDXBNJZSQVHLCKE'[r%23];return`${r}`===e.substr(8,1)}else if('ABCDEFGHJNPQRSUVW'.indexOf(t)!==-1){let t=[2,1,2,1,2,1,2],r=0,n=0;for(let s=0;s<7;s++)n=parseInt(e.charAt(s+1),10)*t[s],n>9&&(n=Math.floor(n/10)+n%10),r+=n;r=10-r%10;r===10&&(r=0);return`${r}`===e.substr(8,1)||'JABCDEFGHI'[r]===e.substr(8,1)}return!1},a=t.charAt(0);if(/^[0-9]$/.test(a)){return{meta:{type:'DNI'},valid:r(t)}}else if(/^[XYZ]$/.test(a)){return{meta:{type:'NIE'},valid:n(t)}}else{return{meta:{type:'CIF'},valid:s(t)}}},fi:e=>{let t=e;/^FI[0-9]{8}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{8}$/.test(t)){return!1}let r=[7,9,10,5,8,4,2,1],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];return n%11===0},fr:e=>{let r=e;/^FR[0-9A-Z]{2}[0-9]{9}$/.test(r)&&(r=r.substr(2));if(!/^[0-9A-Z]{2}[0-9]{9}$/.test(r)){return!1}if(!t(r.substr(2))){return!1}if(/^[0-9]{2}$/.test(r.substr(0,2))){return r.substr(0,2)===`${parseInt(r.substr(2)+'12',10)%97}`}else{let e='0123456789ABCDEFGHJKLMNPQRSTUVWXYZ',t;/^[0-9]$/.test(r.charAt(0))?(t=e.indexOf(r.charAt(0))*24+e.indexOf(r.charAt(1))-10):(t=e.indexOf(r.charAt(0))*34+e.indexOf(r.charAt(1))-100);return(parseInt(r.substr(2),10)+1+Math.floor(t/11))%11===t%11}},gb:e=>{let t=e;(/^GB[0-9]{9}$/.test(t)||/^GB[0-9]{12}$/.test(t)||/^GBGD[0-9]{3}$/.test(t)||/^GBHA[0-9]{3}$/.test(t)||/^GB(GD|HA)8888[0-9]{5}$/.test(t))&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)&&!/^[0-9]{12}$/.test(t)&&!/^GD[0-9]{3}$/.test(t)&&!/^HA[0-9]{3}$/.test(t)&&!/^(GD|HA)8888[0-9]{5}$/.test(t)){return!1}let r=t.length;if(r===5){let e=t.substr(0,2),r=parseInt(t.substr(2),10);return'GD'===e&&r<500||'HA'===e&&r>=500}else if(r===11&&('GD8888'===t.substr(0,6)||'HA8888'===t.substr(0,6))){if('GD'===t.substr(0,2)&&parseInt(t.substr(6,3),10)>=500||'HA'===t.substr(0,2)&&parseInt(t.substr(6,3),10)<500){return!1}return parseInt(t.substr(6,3),10)%97===parseInt(t.substr(9,2),10)}else if(r===9||r===12){let e=[8,7,6,5,4,3,2,10,1],r=0;for(let n=0;n<9;n++)r+=parseInt(t.charAt(n),10)*e[n];r%=97;if(parseInt(t.substr(0,3),10)>=100){return r===0||r===42||r===55}else{return r===0}}return!0},gr:e=>{let t=e;/^(GR|EL)[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)){return!1}t.length===8&&(t=`0${t}`);let r=[256,128,64,32,16,8,4,2],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];n=n%11%10;return`${n}`===t.substr(8,1)},el:e=>{return this.gr(e)},hu:e=>{let t=e;/^HU[0-9]{8}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{8}$/.test(t)){return!1}let r=[9,7,3,1,9,7,3,1],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];return n%10===0},hr:e=>{let t=e;/^HR[0-9]{11}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{11}$/.test(t)){return!1}return r(t)},ie:e=>{let t=e;/^IE[0-9][0-9A-Z\*\+][0-9]{5}[A-Z]{1,2}$/.test(t)&&(t=t.substr(2));if(!/^[0-9][0-9A-Z\*\+][0-9]{5}[A-Z]{1,2}$/.test(t)){return!1}let r=e=>{let t=e;while(t.length<7)t=`0${t}`;let r='WABCDEFGHIJKLMNOPQRSTUV',n=0;for(let e=0;e<7;e++)n+=parseInt(t.charAt(e),10)*(8-e);n+=9*r.indexOf(t.substr(7));return r[n%23]};if(/^[0-9]+$/.test(t.substr(0,7))){return t.charAt(7)===r(`${t.substr(0,7)}${t.substr(8)}`)}else if('ABCDEFGHIJKLMNOPQRSTUVWXYZ+*'.indexOf(t.charAt(1))!==-1){return t.charAt(7)===r(`${t.substr(2,5)}${t.substr(0,1)}`)}return!0},is:e=>{let t=e;/^IS[0-9]{5,6}$/.test(t)&&(t=t.substr(2));return /^[0-9]{5,6}$/.test(t)},it:e=>{let r=e;/^IT[0-9]{11}$/.test(r)&&(r=r.substr(2));if(!/^[0-9]{11}$/.test(r)){return!1}if(parseInt(r.substr(0,7),10)===0){return!1}let n=parseInt(r.substr(7,3),10);if(n<1||n>201&&n!==999&&n!==888){return!1}return t(r)},lt:e=>{let t=e;/^LT([0-9]{7}1[0-9]|[0-9]{10}1[0-9])$/.test(t)&&(t=t.substr(2));if(!/^([0-9]{7}1[0-9]|[0-9]{10}1[0-9])$/.test(t)){return!1}let r=t.length,n=0,s;for(s=0;s<r-1;s++)n+=parseInt(t.charAt(s),10)*(1+s%9);let a=n%11;if(a===10){n=0;for(s=0;s<r-1;s++)n+=parseInt(t.charAt(s),10)*(1+(s+2)%9)}a=a%11%10;return`${a}`===t.charAt(r-1)},lu:e=>{let t=e;/^LU[0-9]{8}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{8}$/.test(t)){return!1}return`${parseInt(t.substr(0,6),10)%89}`===t.substr(6,2)},lv:e=>{let t=e;/^LV[0-9]{11}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{11}$/.test(t)){return!1}let r=parseInt(t.charAt(0),10),n=t.length,s=0,a=[],l;if(r>3){s=0;a=[9,1,4,8,3,10,2,5,7,6,1];for(l=0;l<n;l++)s+=parseInt(t.charAt(l),10)*a[l];s%=11;return s===3}else{let e=parseInt(t.substr(0,2),10),r=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);i=i+1800+parseInt(t.charAt(6),10)*100;if(!A(i,r,e)){return!1}s=0;a=[10,5,8,4,2,1,6,3,7,9];for(l=0;l<n-1;l++)s+=parseInt(t.charAt(l),10)*a[l];s=(s+1)%11%10;return`${s}`===t.charAt(n-1)}},mt:e=>{let t=e;/^MT[0-9]{8}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{8}$/.test(t)){return!1}let r=[3,4,6,7,8,9,10,1],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];return n%37===0},nl:e=>{let t=e;/^NL[0-9]{9}B[0-9]{2}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}B[0-9]{2}$/.test(t)){return!1}let r=[9,8,7,6,5,4,3,2],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];n%=11;n>9&&(n=0);return`${n}`===t.substr(8,1)},no:e=>{let t=e;/^NO[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)){return!1}let r=[3,2,7,6,5,4,3,2],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];n=11-n%11;n===11&&(n=0);return`${n}`===t.substr(8,1)},pl:e=>{let t=e;/^PL[0-9]{10}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{10}$/.test(t)){return!1}let r=[6,5,7,2,3,4,5,6,7,-1],n=0;for(let e=0;e<10;e++)n+=parseInt(t.charAt(e),10)*r[e];return n%11===0},pt:e=>{let t=e;/^PT[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)){return!1}let r=[9,8,7,6,5,4,3,2],n=0;for(let e=0;e<8;e++)n+=parseInt(t.charAt(e),10)*r[e];n=11-n%11;n>9&&(n=0);return`${n}`===t.substr(8,1)},ro:e=>{let t=e;/^RO[1-9][0-9]{1,9}$/.test(t)&&(t=t.substr(2));if(!/^[1-9][0-9]{1,9}$/.test(t)){return!1}let r=t.length,n=[7,5,3,2,1,7,5,3,2].slice(10-r),s=0;for(let e=0;e<r-1;e++)s+=parseInt(t.charAt(e),10)*n[e];s=10*s%11%10;return`${s}`===t.substr(r-1,1)},ru:e=>{let t=e;/^RU([0-9]{10}|[0-9]{12})$/.test(t)&&(t=t.substr(2));if(!/^([0-9]{10}|[0-9]{12})$/.test(t)){return!1}let r=0;if(t.length===10){let e=[2,4,10,3,5,9,4,6,8,0],n=0;for(r=0;r<10;r++)n+=parseInt(t.charAt(r),10)*e[r];n%=11;n>9&&(n%=10);return`${n}`===t.substr(9,1)}else if(t.length===12){let e=[7,2,4,10,3,5,9,4,6,8,0],n=[3,7,2,4,10,3,5,9,4,6,8,0],s=0,a=0;for(r=0;r<11;r++)s+=parseInt(t.charAt(r),10)*e[r],a+=parseInt(t.charAt(r),10)*n[r];s%=11;s>9&&(s%=10);a%=11;a>9&&(a%=10);return`${s}`===t.substr(10,1)&&`${a}`===t.substr(11,1)}return!1},rs:e=>{let t=e;/^RS[0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[0-9]{9}$/.test(t)){return!1}let r=10,n=0;for(let e=0;e<8;e++)n=(parseInt(t.charAt(e),10)+r)%10,n===0&&(n=10),r=2*n%11;return(r+parseInt(t.substr(8,1),10))%10===1},se:e=>{let r=e;/^SE[0-9]{10}01$/.test(r)&&(r=r.substr(2));if(!/^[0-9]{10}01$/.test(r)){return!1}r=r.substr(0,10);return t(r)},si:e=>{let t=e.match(/^(SI)?([1-9][0-9]{7})$/);if(!t){return!1}let r=t[1]?e.substr(2):e,n=[8,7,6,5,4,3,2],s=0;for(let e=0;e<7;e++)s+=parseInt(r.charAt(e),10)*n[e];s=11-s%11;s===10&&(s=0);return`${s}`===r.substr(7,1)},sk:e=>{let t=e;/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(t)&&(t=t.substr(2));if(!/^[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(t)){return!1}return parseInt(t,10)%11===0},ve:e=>{let t=e;/^VE[VEJPG][0-9]{9}$/.test(t)&&(t=t.substr(2));if(!/^[VEJPG][0-9]{9}$/.test(t)){return!1}let r={E:8,G:20,J:12,P:16,V:4},n=[3,2,7,6,5,4,3,2],s=r[t.charAt(0)];for(let e=0;e<8;e++)s+=parseInt(t.charAt(e+1),10)*n[e];s=11-s%11;(s===11||s===10)&&(s=0);return`${s}`===t.substr(9,1)},za:e=>{let t=e;/^ZA4[0-9]{9}$/.test(t)&&(t=t.substr(2));return /^4[0-9]{9}$/.test(t)}}};return{validate(t){if(t.value===''){return{valid:!0}}let r=Object.assign({},t.options),n=t.value.substr(0,2);'function'===typeof r.country?(n=r.country.call(this)):(n=r.country);let s=e()[n.toLowerCase()](t.value),a=s===!0||s===!1?{valid:s}:s;a.message=t.l10n?c(r.message||t.l10n.vat.country,t.l10n.vat.countries[n.toUpperCase()]):r.message;return a}}}function ce(){return{validate(e){if(e.value===''){return{valid:!0}}if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(e.value)){return{valid:!1}}let t=e.value.toUpperCase(),r={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=t.length,a=0;for(let e=0;e<s;e++)a+=r[`${t.charAt(e)}`]*n[e];let l=`${a%11}`;l==='10'&&(l='X');return{valid:l===t.charAt(8)}}}}function de(){let e=['AT','BG','BR','CA','CH','CZ','DE','DK','ES','FR','GB','IE','IN','IT','MA','NL','PL','PT','RO','RU','SE','SG','SK','US'],t=e=>{let t='[ABCDEFGHIJKLMNOPRSTUWYZ]',r='[ABCDEFGHKLMNOPQRSTUVWXY]',n='[ABCDEFGHJKPMNRSTUVWXY]',s='[ABEHMNPRVWXY]',a='[ABDEFGHJLNPQRSTUWXYZ]',l=[new RegExp(`^(${t}{1}${r}?[0-9]{1,2})(\\s*)([0-9]{1}${a}{2})$`,'i'),new RegExp(`^(${t}{1}[0-9]{1}${n}{1})(\\s*)([0-9]{1}${a}{2})$`,'i'),new RegExp(`^(${t}{1}${r}{1}?[0-9]{1}${s}{1})(\\s*)([0-9]{1}${a}{2})$`,'i'),new RegExp('^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$','i'),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i];for(let t of l){if(t.test(e)){return!0}}return!1};return{validate(r){let n=Object.assign({},r.options);if(r.value===''||!n.country){return{valid:!0}}let s=r.value.substr(0,2);'function'===typeof n.country?(s=n.country.call(this)):(s=n.country);if(!s||e.indexOf(s.toUpperCase())===-1){return{valid:!0}}let a=!1;s=s.toUpperCase();switch(s){case 'AT':a=/^([1-9]{1})(\d{3})$/.test(r.value);break;case 'BG':a=/^([1-9]{1}[0-9]{3})$/.test(r.value);break;case 'BR':a=/^(\d{2})([\.]?)(\d{3})([\-]?)(\d{3})$/.test(r.value);break;case 'CA':a=/^(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}\s?[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}[0-9]{1}$/i.test(r.value);break;case 'CH':a=/^([1-9]{1})(\d{3})$/.test(r.value);break;case 'CZ':a=/^(\d{3})([ ]?)(\d{2})$/.test(r.value);break;case 'DE':a=/^(?!01000|99999)(0[1-9]\d{3}|[1-9]\d{4})$/.test(r.value);break;case 'DK':a=/^(DK(-|\s)?)?\d{4}$/i.test(r.value);break;case 'ES':a=/^(?:0[1-9]|[1-4][0-9]|5[0-2])\d{3}$/.test(r.value);break;case 'FR':a=/^[0-9]{5}$/i.test(r.value);break;case 'GB':a=t(r.value);break;case 'IN':a=/^\d{3}\s?\d{3}$/.test(r.value);break;case 'IE':a=/^(D6W|[ACDEFHKNPRTVWXY]\d{2})\s[0-9ACDEFHKNPRTVWXY]{4}$/.test(r.value);break;case 'IT':a=/^(I-|IT-)?\d{5}$/i.test(r.value);break;case 'MA':a=/^[1-9][0-9]{4}$/i.test(r.value);break;case 'NL':a=/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(r.value);break;case 'PL':a=/^[0-9]{2}\-[0-9]{3}$/.test(r.value);break;case 'PT':a=/^[1-9]\d{3}-\d{3}$/.test(r.value);break;case 'RO':a=/^(0[1-8]{1}|[1-9]{1}[0-5]{1})?[0-9]{4}$/i.test(r.value);break;case 'RU':a=/^[0-9]{6}$/i.test(r.value);break;case 'SE':a=/^(S-)?\d{3}\s?\d{2}$/i.test(r.value);break;case 'SG':a=/^([0][1-9]|[1-6][0-9]|[7]([0-3]|[5-9])|[8][0-2])(\d{4})$/i.test(r.value);break;case 'SK':a=/^(\d{3})([ ]?)(\d{2})$/.test(r.value);break;case 'US':;default:a=/^\d{4,5}([\-]?\d{4})?$/.test(r.value);break}return{message:r.l10n?c(n.message||r.l10n.zipCode.country,r.l10n.zipCode.countries[s]):n.message,valid:a}}}}var fe={between:d,blank:f,callback:h,choice:p,creditCard:b,date:v,different:E,digits:C,emailAddress:S,file:y,greaterThan:V,identical:w,integer:H,ip:M,lessThan:L,notEmpty:I,numeric:N,promise:Z,regexp:F,remote:T,stringCase:R,stringLength:B,uri:O,base64:G,bic:D,color:k,cusip:P,ean:K,ein:Y,grid:U,hex:W,iban:J,id:X,imei:Q,imo:z,isbn:q,isin:_,ismn:j,issn:$,mac:ee,meid:te,phone:re,rtn:ne,sedol:se,siren:ae,siret:le,step:ie,uuid:ue,vat:oe,vin:ce,zipCode:de};class ge{constructor(e,t){this.elements={};this.ee=a();this.filter=l();this.plugins={};this.results=new Map;this.validators={};this.form=e;this.fields=t}on(e,t){this.ee.on(e,t);return this}off(e,t){this.ee.off(e,t);return this}emit(e,...t){this.ee.emit(e,...t);return this}registerPlugin(e,t){if(this.plugins[e]){throw new Error(`The plguin ${e} is registered`)}t.setCore(this);t.install();this.plugins[e]=t;return this}deregisterPlugin(e){let t=this.plugins[e];t&&t.uninstall();delete this.plugins[e];return this}registerValidator(e,t){if(this.validators[e]){throw new Error(`The validator ${e} is registered`)}this.validators[e]=t;return this}registerFilter(e,t){this.filter.add(e,t);return this}deregisterFilter(e,t){this.filter.remove(e,t);return this}addField(e,t){let r=Object.assign({},{selector:'',validators:{}},t);this.fields[e]=this.fields[e]?{selector:r.selector||this.fields[e].selector,validators:Object.assign({},this.fields[e].validators,r.validators)}:r;this.elements[e]=this.queryElements(e);this.emit('core.field.added',{elements:this.elements[e],field:e,options:this.fields[e]});return this}removeField(e){if(!this.fields[e]){throw new Error(`The field ${e} validators are not defined. Please ensure the field is added first`)}let t=this.elements[e],r=this.fields[e];delete this.elements[e];delete this.fields[e];this.emit('core.field.removed',{elements:t,field:e,options:r});return this}validate(){this.emit('core.form.validating');return Promise.all(Object.keys(this.fields).map(e=>this.validateField(e))).then(e=>{switch(!0){case e.indexOf(u.Invalid)!==-1:this.emit('core.form.invalid');return Promise.resolve(u.Invalid);case e.indexOf(u.NotValidated)!==-1:this.emit('core.form.notvalidated');return Promise.resolve(u.NotValidated);default:this.emit('core.form.valid');return Promise.resolve(u.Valid)}})}validateField(e){let t=this.results.get(e);if(t===u.Valid||t===u.Invalid){return Promise.resolve(t)}this.emit('core.field.validating',e);let r=this.elements[e];if(r.length===0){this.emit('core.field.valid',e);return Promise.resolve(u.Valid)}let n=r[0].getAttribute('type');if('radio'===n||'checkbox'===n||r.length===1){return this.validateElement(e,r[0])}else{return Promise.all(r.map(t=>this.validateElement(e,t))).then(t=>{switch(!0){case t.indexOf(u.Invalid)!==-1:this.emit('core.field.invalid',e);this.results.set(e,u.Invalid);return Promise.resolve(u.Invalid);case t.indexOf(u.NotValidated)!==-1:this.emit('core.field.notvalidated',e);this.results.delete(e);return Promise.resolve(u.NotValidated);default:this.emit('core.field.valid',e);this.results.set(e,u.Valid);return Promise.resolve(u.Valid)}})}}validateElement(e,t){this.results.delete(e);let r=this.fields[e].validators,n=this.elements[e];this.emit('core.element.validating',{element:t,elements:n,field:e});return Promise.all(Object.keys(r).map(s=>{let a=this.filter.execute('validator-name',s,[s,e]),l=r[s];l.message=this.filter.execute('validator-message',l.message,[this.locale,e,a]);if(!this.validators[a]||l.enabled===!1){this.emit('core.validator.validated',{element:t,elements:n,field:e,result:this.normalizeResult(e,a,{valid:!0}),validator:a});return Promise.resolve(u.Valid)}let i=this.validators[a],o=this.getElementValue(e,t,a),c=this.filter.execute('field-should-validate',!0,[e,t,o,s]);if(!c){this.emit('core.validator.notvalidated',{element:t,elements:n,field:e,validator:s});return Promise.reject(u.NotValidated)}this.emit('core.validator.validating',{element:t,elements:n,field:e,validator:s});let d=i().validate({element:t,elements:n,field:e,l10n:this.localization,options:l,value:o}),f='function'===typeof d.then;if(f){return d.then(r=>{let a=this.normalizeResult(e,s,r);this.emit('core.validator.validated',{element:t,elements:n,field:e,result:a,validator:s});return a.valid?u.Valid:u.Invalid})}else{let r=this.normalizeResult(e,s,d);this.emit('core.validator.validated',{element:t,elements:n,field:e,result:r,validator:s});return Promise.resolve(r.valid?u.Valid:u.Invalid)}})).then(r=>{let s=r.indexOf(u.Invalid)===-1;this.emit('core.element.validated',{element:t,elements:n,field:e,valid:s});let a=t.getAttribute('type');('radio'===a||'checkbox'===a||n.length===1)&&this.emit(s?'core.field.valid':'core.field.invalid',e);return Promise.resolve(s?u.Valid:u.Invalid)}).catch(r=>{this.emit('core.element.notvalidated',{element:t,elements:n,field:e});return Promise.resolve(r)})}getElementValue(e,t,r){let n=o(this.form,e,t,this.elements[e]);return this.filter.execute('field-value',n,[n,e,t,r])}getElements(e){return this.elements[e]}getFields(){return this.fields}getFormElement(){return this.form}getPlugin(e){return this.plugins[e]}updateFieldStatus(e,t,r){let n=this.elements[e],s=n[0].getAttribute('type'),a='radio'===s||'checkbox'===s?[n[0]]:n;a.forEach(n=>this.updateElementStatus(e,n,t,r));switch(t){case u.NotValidated:this.emit('core.field.notvalidated',e);this.results.delete(e);break;case u.Validating:this.emit('core.field.validating',e);this.results.delete(e);break;case u.Valid:this.emit('core.field.valid',e);this.results.set(e,u.Valid);break;case u.Invalid:this.emit('core.field.invalid',e);this.results.set(e,u.Invalid);break}return this}updateElementStatus(e,t,r,n){let s=this.elements[e],a=this.fields[e].validators,l=n?[n]:Object.keys(a);switch(r){case u.NotValidated:l.forEach(r=>this.emit('core.validator.notvalidated',{element:t,elements:s,field:e,validator:r}));this.emit('core.element.notvalidated',{element:t,elements:s,field:e});break;case u.Validating:l.forEach(r=>this.emit('core.validator.validating',{element:t,elements:s,field:e,validator:r}));this.emit('core.element.validating',{element:t,elements:s,field:e});break;case u.Valid:l.forEach(r=>this.emit('core.validator.validated',{element:t,field:e,result:{message:a[r].message,valid:!0},validator:r}));this.emit('core.element.validated',{element:t,elements:s,field:e,valid:!0});break;case u.Invalid:l.forEach(r=>this.emit('core.validator.validated',{element:t,field:e,result:{message:a[r].message,valid:!1},validator:r}));this.emit('core.element.validated',{element:t,elements:s,field:e,valid:!1});break}return this}resetForm(e){Object.keys(this.fields).forEach(t=>this.resetField(t,e));this.emit('core.form.reset',{reset:e});return this}resetField(e,t){if(t){let t=this.elements[e],r=t[0].getAttribute('type');t.forEach(e=>{'radio'===r||'checkbox'===r?(e.removeAttribute('selected'),e.removeAttribute('checked')):e.setAttribute('value','')})}this.updateFieldStatus(e,u.NotValidated);this.emit('core.field.reset',{field:e,reset:t});return this}revalidateField(e){this.updateFieldStatus(e,u.NotValidated);return this.validateField(e)}disableValidator(e,t){return this.toggleValidator(!1,e,t)}enableValidator(e,t){return this.toggleValidator(!0,e,t)}updateValidatorOption(e,t,r,n){this.fields[e]&&this.fields[e].validators&&this.fields[e].validators[t]&&(this.fields[e].validators[t][r]=n);return this}destroy(){Object.keys(this.plugins).forEach(e=>this.plugins[e].uninstall());this.ee.clear();this.filter.clear();this.results.clear();this.plugins={};return this}setLocale(e,t){this.locale=e;this.localization=t;return this}queryElements(e){let t=this.fields[e].selector?('#'===this.fields[e].selector.charAt(0)?`[id="${this.fields[e].selector.substring(1)}"]`:this.fields[e].selector):`[name="${e}"]`;return[].slice.call(this.form.querySelectorAll(t))}normalizeResult(e,t,r){let n=this.fields[e].validators[t];return Object.assign({},r,{message:r.message||n.message||(this.localization&&this.localization[t]&&this.localization[t].default?this.localization[t].default:'')||`The field ${e} is not valid`})}toggleValidator(e,t,r){let n=this.fields[t].validators;r&&n&&n[r]?(this.fields[t].validators[r].enabled=e):r||Object.keys(n).forEach(r=>this.fields[t].validators[r].enabled=e);return this.updateFieldStatus(t,u.NotValidated,r)}}function he(e,t){let r=Object.assign({},{fields:{},locale:'en_US',plugins:{}},t),n=new ge(e,r.fields);n.setLocale(r.locale,r.localization);Object.keys(r.plugins).forEach(e=>n.registerPlugin(e,r.plugins[e]));Object.keys(fe).forEach(e=>n.registerValidator(e,fe[e]));Object.keys(r.fields).forEach(e=>n.addField(e,r.fields[e]));return n}class pe{constructor(e){this.opts=e}setCore(e){this.core=e;return this}install(){}uninstall(){}}var me={getFieldValue:o};class be extends pe{constructor(e){super(e);this.opts=e||{};this.validatorNameFilter=this.getValidatorName.bind(this)}install(){this.core.registerFilter('validator-name',this.validatorNameFilter)}uninstall(){this.core.deregisterFilter('validator-name',this.validatorNameFilter)}getValidatorName(e,t){return this.opts[e]||e}}class Ae extends pe{constructor(){super({});this.elementValidatedHandler=this.onElementValidated.bind(this);this.fieldValidHandler=this.onFieldValid.bind(this);this.fieldInvalidHandler=this.onFieldInvalid.bind(this);this.messageDisplayedHandler=this.onMessageDisplayed.bind(this)}install(){this.core.on('core.field.valid',this.fieldValidHandler).on('core.field.invalid',this.fieldInvalidHandler).on('core.element.validated',this.elementValidatedHandler).on('plugins.message.displayed',this.messageDisplayedHandler)}uninstall(){this.core.off('core.field.valid',this.fieldValidHandler).off('core.field.invalid',this.fieldInvalidHandler).off('core.element.validated',this.elementValidatedHandler).off('plugins.message.displayed',this.messageDisplayedHandler)}onElementValidated(e){e.valid&&(e.element.setAttribute('aria-invalid','false'),e.element.removeAttribute('aria-describedby'))}onFieldValid(e){let t=this.core.getElements(e);t&&t.forEach(e=>{e.setAttribute('aria-invalid','false'),e.removeAttribute('aria-describedby')})}onFieldInvalid(e){let t=this.core.getElements(e);t&&t.forEach(e=>e.setAttribute('aria-invalid','true'))}onMessageDisplayed(e){e.messageElement.setAttribute('role','alert');e.messageElement.setAttribute('aria-hidden','false');let t=this.core.getElements(e.field),r=t.indexOf(e.element),n=`js-fv-${e.field}-${r}-${Date.now()}-message`;e.messageElement.setAttribute('id',n);e.element.setAttribute('aria-describedby',n);let s=e.element.getAttribute('type');('radio'===s||'checkbox'===s)&&t.forEach(e=>e.setAttribute('aria-describedby',n))}}class ve extends pe{constructor(){super({});this.invalidElements=[];this.invalidFormHandler=this.onFormInvalid.bind(this);this.elementValidatedHandler=this.onElementValidated.bind(this);this.elementNotValidatedHandler=this.onElementNotValidated.bind(this)}install(){this.core.on('core.form.invalid',this.invalidFormHandler).on('core.element.validated',this.elementValidatedHandler).on('core.element.notvalidated',this.elementNotValidatedHandler)}uninstall(){this.invalidElements=[];this.core.off('core.form.invalid',this.invalidFormHandler).off('core.element.validated',this.elementValidatedHandler).off('core.element.notvalidated',this.elementNotValidatedHandler)}onElementValidated(e){let t=this.invalidElements.indexOf(e.element);e.valid&&t>=0?this.invalidElements.splice(t,1):!e.valid&&t===-1&&this.invalidElements.push(e.element)}onElementNotValidated(e){this.invalidElements.splice(this.invalidElements.indexOf(e.element),1)}onFormInvalid(){this.invalidElements.length&&this.invalidElements[0].focus()}}class Ee extends pe{constructor(e){super(e);this.opts=Object.assign({},{html5Input:!1,prefix:'data-fv-'},e)}install(){let e=this.parseOptions();Object.keys(e).forEach(t=>this.core.addField(t,e[t]))}parseOptions(){let e=this.opts.prefix,t={},r=this.core.getFields(),n=this.core.getFormElement(),s=[].slice.call(n.querySelectorAll(`[name], [${e}field]`));s.forEach(r=>{let n=this.parseElement(r);if(!this.isEmptyOption(n)){let s=r.getAttribute('name')||r.getAttribute(`${e}field`);t[s]=Object.assign({},t[s],n)}});Object.keys(t).forEach(e=>{Object.keys(t[e].validators).forEach(n=>{t[e].validators[n].enabled=t[e].validators[n].enabled||!1,r[e]&&r[e].validators&&r[e].validators[n]&&Object.assign(t[e].validators[n],r[e].validators[n])})});return Object.assign({},r,t)}isEmptyOption(e){let t=e.validators;return Object.keys(t).length===0&&t.constructor===Object}parseElement(e){let t=new RegExp(`^${this.opts.prefix}([a-z0-9\-]+)(___)*([a-z0-9\-]+)*$`),r=e.attributes.length,n={},s=e.getAttribute('type');for(let a=0;a<r;a++){let r=e.attributes[a].name,l=e.attributes[a].value;if(this.opts.html5Input){switch(!0){case 'minlength'===r:n.stringLength=Object.assign({},{enabled:!0,min:parseInt(l,10)},n.stringLength);break;case 'maxlength'===r:n.stringLength=Object.assign({},{enabled:!0,max:parseInt(l,10)},n.stringLength);break;case 'pattern'===r:n.regexp=Object.assign({},{enabled:!0,regexp:l},n.regexp);break;case 'required'===r:n.notEmpty=Object.assign({},{enabled:!0},n.notEmpty);break;case 'type'===r&&'color'===l:n.color=Object.assign({},{enabled:!0,type:'hex'},n.color);break;case 'type'===r&&'email'===l:n.emailAddress=Object.assign({},{enabled:!0},n.emailAddress);break;case 'type'===r&&'url'===l:n.uri=Object.assign({},{enabled:!0},n.uri);break;case 'type'===r&&'range'===l:n.between=Object.assign({},{enabled:!0,max:parseFloat(e.getAttribute('max')),min:parseFloat(e.getAttribute('min'))},n.between);break;case 'min'===r&&s!=='date'&&s!=='range':n.greaterThan=Object.assign({},{enabled:!0,min:parseFloat(l)},n.greaterThan);break;case 'max'===r&&s!=='date'&&s!=='range':n.lessThan=Object.assign({},{enabled:!0,max:parseFloat(l)},n.lessThan);break;default:break}}let i=t.exec(r);if(i&&i.length===4){let e=this.toCamelCase(i[1]);n[e]=Object.assign({},i[3]?{[this.toCamelCase(i[3])]:l}:{enabled:''===l||'true'===l},n[e])}}return{validators:n}}toUpperCase(e){return e.charAt(1).toUpperCase()}toCamelCase(e){return e.replace(/-./g,this.toUpperCase)}}class Ce extends pe{constructor(){super({});this.onValidHandler=this.onFormValid.bind(this)}install(){let e=this.core.getFormElement();if(e.querySelectorAll('[type="submit"][name="submit"]').length){throw new Error('Do not use `submit` for the name attribute of submit button')}this.core.on('core.form.valid',this.onValidHandler)}uninstall(){this.core.off('core.form.valid',this.onValidHandler)}onFormValid(){let e=this.core.getFormElement();e instanceof HTMLFormElement&&e.submit()}}class Se extends pe{constructor(e){super(e);this.opts=e||{};this.triggerExecutedHandler=this.onTriggerExecuted.bind(this)}install(){this.core.on('plugins.trigger.executed',this.triggerExecutedHandler)}uninstall(){this.core.off('plugins.trigger.executed',this.triggerExecutedHandler)}onTriggerExecuted(e){if(this.opts[e.field]){let t=this.opts[e.field].split(' ');for(let e of t){let t=e.trim();this.opts[t]&&this.core.revalidateField(t)}}}}function ye(e,t){t.split(' ').forEach(t=>{e.classList?e.classList.add(t):` ${e.className} `.indexOf(` ${t} `)&&(e.className+=` ${t}`)})}function Ve(e,t){t.split(' ').forEach(t=>{e.classList?e.classList.remove(t):(e.className=e.className.replace(t,''))})}function we(e,t){let r=[],n=[];Object.keys(t).forEach(e=>{e&&(t[e]?r.push(e):n.push(e))});n.forEach(t=>Ve(e,t));r.forEach(t=>ye(e,t))}function He(e,t){let r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;if(r){return r.call(e,t)}let n=[].slice.call(e.parentElement.querySelectorAll(t));return n.indexOf(e)>=0}function Me(e,t){let r=e;while(r){if(He(r,t)){break}r=r.parentElement}return r}class Le extends pe{constructor(e){super(e);this.messages=new Map;this.defaultContainer=document.createElement('div');this.opts=Object.assign({},{container:(e,t)=>this.defaultContainer},e);this.fieldAddedHandler=this.onFieldAdded.bind(this);this.fieldRemovedHandler=this.onFieldRemoved.bind(this);this.validatorValidatedHandler=this.onValidatorValidated.bind(this);this.validatorNotValidatedHandler=this.onValidatorNotValidated.bind(this)}static getClosestContainer(e,t,r){let n=e;while(n){if(n===t){break}n=n.parentElement;if(r.test(n.className)){break}}return n}install(){this.core.getFormElement().appendChild(this.defaultContainer);this.core.on('core.field.added',this.fieldAddedHandler).on('core.field.removed',this.fieldRemovedHandler).on('core.validator.validated',this.validatorValidatedHandler).on('core.validator.notvalidated',this.validatorNotValidatedHandler)}uninstall(){this.core.getFormElement().removeChild(this.defaultContainer);this.messages.forEach(e=>e.parentNode.removeChild(e));this.messages.clear();this.core.off('core.field.added',this.fieldAddedHandler).off('core.field.removed',this.fieldRemovedHandler).off('core.validator.validated',this.validatorValidatedHandler).off('core.validator.notvalidated',this.validatorNotValidatedHandler)}onFieldAdded(e){let t=e.elements;t&&(t.forEach(e=>{let t=this.messages.get(e);t&&(t.parentNode.removeChild(t),this.messages.delete(e))}),this.prepareFieldContainer(e.field,t))}onFieldRemoved(e){if(!e.elements.length||!e.field){return}let t=e.elements[0].getAttribute('type'),r='radio'===t||'checkbox'===t?[e.elements[0]]:e.elements;r.forEach(e=>{if(this.messages.has(e)){let t=this.messages.get(e);t.parentNode.removeChild(t);this.messages.delete(e)}})}prepareFieldContainer(e,t){if(t.length){let r=t[0].getAttribute('type');'radio'===r||'checkbox'===r?this.prepareElementContainer(e,t[0],t):t.forEach(r=>this.prepareElementContainer(e,r,t))}}prepareElementContainer(e,t,r){let n;switch(!0){case 'string'===typeof this.opts.container:let s=this.opts.container;s='#'===s.charAt(0)?`[id="${s.substring(1)}"]`:s;n=this.core.getFormElement().querySelector(s);break;default:n=this.opts.container(e,t);break}let a=document.createElement('div');n.appendChild(a);we(a,{'fv-plugins-message-container':!0});this.core.emit('plugins.message.placed',{element:t,field:e,elements:r,messageElement:a});this.messages.set(t,a)}onValidatorValidated(e){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element;if(this.messages.has(n)){let t=this.messages.get(n),r=t.querySelector(`[data-field="${e.field}"][data-validator="${e.validator}"]`);if(!r&&!e.result.valid){let r=document.createElement('div');r.innerHTML=e.result.message;r.setAttribute('data-field',e.field);r.setAttribute('data-validator',e.validator);this.opts.clazz&&we(r,{[this.opts.clazz]:!0});t.appendChild(r);this.core.emit('plugins.message.displayed',{element:e.element,field:e.field,message:e.result.message,messageElement:r,meta:e.result.meta,validator:e.validator})}else r&&!e.result.valid?(r.innerHTML=e.result.message,this.core.emit('plugins.message.displayed',{element:e.element,field:e.field,message:e.result.message,messageElement:r,meta:e.result.meta,validator:e.validator})):r&&e.result.valid&&t.removeChild(r)}}onValidatorNotValidated(e){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element;if(this.messages.has(n)){let t=this.messages.get(n),r=t.querySelector(`[data-field="${e.field}"][data-validator="${e.validator}"]`);r&&t.removeChild(r)}}}class Ie extends pe{constructor(e){super(e);this.results=new Map;this.containers=new Map;this.opts=Object.assign({},{defaultMessageContainer:!0,rowClasses:'',rowValidatingClass:'',eleValidClass:'',eleInvalidClass:''},e);this.elementValidatingHandler=this.onElementValidating.bind(this);this.elementValidatedHandler=this.onElementValidated.bind(this);this.elementNotValidatedHandler=this.onElementNotValidated.bind(this);this.iconPlacedHandler=this.onIconPlaced.bind(this);this.fieldAddedHandler=this.onFieldAdded.bind(this);this.fieldRemovedHandler=this.onFieldRemoved.bind(this)}install(){we(this.core.getFormElement(),{[this.opts.formClass]:!0});this.core.on('core.element.validating',this.elementValidatingHandler).on('core.element.validated',this.elementValidatedHandler).on('core.element.notvalidated',this.elementNotValidatedHandler).on('plugins.icon.placed',this.iconPlacedHandler).on('core.field.added',this.fieldAddedHandler).on('core.field.removed',this.fieldRemovedHandler);this.opts.defaultMessageContainer&&this.core.registerPlugin('___frameworkMessage',new Le({clazz:this.opts.messageClass,container:(e,t)=>{let r='string'===typeof this.opts.rowSelector?this.opts.rowSelector:this.opts.rowSelector(e,t),n=Me(t,r);return Le.getClosestContainer(t,n,this.opts.rowPattern)}}))}uninstall(){this.results.clear();this.containers.clear();we(this.core.getFormElement(),{[this.opts.formClass]:!1});this.core.off('core.element.validating',this.elementValidatingHandler).off('core.element.validated',this.elementValidatedHandler).off('core.element.notvalidated',this.elementNotValidatedHandler).off('plugins.icon.placed',this.iconPlacedHandler).off('core.field.added',this.fieldAddedHandler).off('core.field.removed',this.fieldRemovedHandler)}onIconPlaced(e){}onFieldAdded(e){let t=e.elements;t&&(t.forEach(e=>{let t=this.containers.get(e);t&&(we(t,{[this.opts.rowInvalidClass]:!1,[this.opts.rowValidatingClass]:!1,[this.opts.rowValidClass]:!1,'fv-plugins-icon-container':!1}),this.containers.delete(e))}),this.prepareFieldContainer(e.field,t))}onFieldRemoved(e){e.elements.forEach(e=>{let t=this.containers.get(e);t&&we(t,{[this.opts.rowInvalidClass]:!1,[this.opts.rowValidatingClass]:!1,[this.opts.rowValidClass]:!1})})}prepareFieldContainer(e,t){if(t.length){let r=t[0].getAttribute('type');'radio'===r||'checkbox'===r?this.prepareElementContainer(e,t[0]):t.forEach(t=>this.prepareElementContainer(e,t))}}prepareElementContainer(e,t){let r='string'===typeof this.opts.rowSelector?this.opts.rowSelector:this.opts.rowSelector(e,t),n=Me(t,r);n!==t&&(we(n,{[this.opts.rowClasses]:!0,'fv-plugins-icon-container':!0}),this.containers.set(t,n))}onElementValidating(e){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element,s=this.containers.get(n);s&&we(s,{[this.opts.rowInvalidClass]:!1,[this.opts.rowValidatingClass]:!0,[this.opts.rowValidClass]:!1})}onElementNotValidated(e){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element,s=this.containers.get(n);s&&we(s,{[this.opts.rowInvalidClass]:!1,[this.opts.rowValidatingClass]:!1,[this.opts.rowValidClass]:!1})}onElementValidated(e){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element;we(n,{[this.opts.eleValidClass]:e.valid,[this.opts.eleInvalidClass]:!e.valid});let s=this.containers.get(n);if(s){if(!e.valid)this.results.set(n,!1),we(s,{[this.opts.rowInvalidClass]:!0,[this.opts.rowValidatingClass]:!1,[this.opts.rowValidClass]:!1});else{this.results.delete(n);let e=!0;this.containers.forEach((t,r)=>{t===s&&this.results.get(r)===!1&&(e=!1)});e&&we(s,{[this.opts.rowInvalidClass]:!1,[this.opts.rowValidatingClass]:!1,[this.opts.rowValidClass]:!0})}}}}class Ne extends pe{constructor(e){super(e);this.icons=new Map;this.opts=Object.assign({},{invalid:'fv-plugins-icon--invalid',valid:'fv-plugins-icon--valid',validating:'fv-plugins-icon--validating',onPlaced:()=>{},onSet:()=>{}},e);this.elementValidatingHandler=this.onElementValidating.bind(this);this.elementValidatedHandler=this.onElementValidated.bind(this);this.elementNotValidatedHandler=this.onElementNotValidated.bind(this);this.fieldAddedHandler=this.onFieldAdded.bind(this)}install(){this.core.on('core.element.validating',this.elementValidatingHandler).on('core.element.validated',this.elementValidatedHandler).on('core.element.notvalidated',this.elementNotValidatedHandler).on('core.field.added',this.fieldAddedHandler)}uninstall(){this.icons.forEach(e=>e.parentNode.removeChild(e));this.icons.clear();this.core.off('core.element.validating',this.elementValidatingHandler).off('core.element.validated',this.elementValidatedHandler).off('core.element.notvalidated',this.elementNotValidatedHandler).off('core.field.added',this.fieldAddedHandler)}onFieldAdded(e){let t=e.elements;t&&(t.forEach(e=>{let t=this.icons.get(e);t&&(t.parentNode.removeChild(t),this.icons.delete(e))}),this.prepareFieldIcon(e.field,t))}prepareFieldIcon(e,t){if(t.length){let r=t[0].getAttribute('type');'radio'===r||'checkbox'===r?this.prepareElementIcon(e,t[0]):t.forEach(t=>this.prepareElementIcon(e,t))}}prepareElementIcon(e,t){let r=document.createElement('i');r.setAttribute('data-field',e);t.parentNode.insertBefore(r,t.nextSibling);we(r,{'fv-plugins-icon':!0});let n={classes:{invalid:this.opts.invalid,valid:this.opts.valid,validating:this.opts.validating},element:t,field:e,iconElement:r};this.core.emit('plugins.icon.placed',n);this.opts.onPlaced(n);this.icons.set(t,r)}onElementValidating(e){let t=this.setClasses(e.field,e.element,e.elements,{[this.opts.invalid]:!1,[this.opts.valid]:!1,[this.opts.validating]:!0}),r={element:e.element,field:e.field,status:u.Validating,iconElement:t};this.core.emit('plugins.icon.set',r);this.opts.onSet(r)}onElementValidated(e){let t=this.setClasses(e.field,e.element,e.elements,{[this.opts.invalid]:!e.valid,[this.opts.valid]:e.valid,[this.opts.validating]:!1}),r={element:e.element,field:e.field,status:e.valid?u.Valid:u.Invalid,iconElement:t};this.core.emit('plugins.icon.set',r);this.opts.onSet(r)}onElementNotValidated(e){let t=this.setClasses(e.field,e.element,e.elements,{[this.opts.invalid]:!1,[this.opts.valid]:!1,[this.opts.validating]:!1}),r={element:e.element,field:e.field,status:u.NotValidated,iconElement:t};this.core.emit('plugins.icon.set',r);this.opts.onSet(r)}setClasses(e,t,r,n){let s=t.getAttribute('type'),a='radio'===s||'checkbox'===s?r[0]:t;if(this.icons.has(a)){let e=this.icons.get(a);we(e,n);return e}else{return null}}}class Ze extends pe{constructor(e){super(e);this.opts=Object.assign({},{selector:'[type="submit"]:not([formnovalidate])'},e);this.submitHandler=this.submitHandle.bind(this)}install(){if(!(this.core.getFormElement() instanceof HTMLFormElement)){return}let e=this.core.getFormElement();e.setAttribute('novalidate','novalidate');e.addEventListener('submit',this.submitHandler);let t=document.createElement('button');t.setAttribute('type','submit');Object.assign(t.style,{display:'none',height:'0',width:'0'});e.appendChild(t);let r=[].slice.call(e.querySelectorAll(this.opts.selector)),n=[].slice.call(e.querySelectorAll('[type="submit"]'));n.forEach(n=>{n.addEventListener('click',n=>{let s=n.currentTarget;if(!n.defaultPrevented&&s instanceof HTMLElement&&r.indexOf(s)===-1&&s!==t){e.removeEventListener('submit',this.submitHandler);e.submit();return!1}})})}uninstall(){let e=this.core.getFormElement();e instanceof HTMLFormElement&&e.removeEventListener('submit',this.submitHandler)}submitHandle(e){e.preventDefault();this.core.validate()}}class Fe extends pe{constructor(e){super(e);this.messages=new Map;this.opts=Object.assign({},{placement:'top',trigger:'click'},e);this.iconPlacedHandler=this.onIconPlaced.bind(this);this.validatorValidatedHandler=this.onValidatorValidated.bind(this);this.elementValidatedHandler=this.onElementValidated.bind(this);this.documentClickHandler=this.onDocumentClicked.bind(this)}install(){this.tip=document.createElement('div');we(this.tip,{'fv-plugins-tooltip':!0,[`fv-plugins-tooltip--${this.opts.placement}`]:!0});document.body.appendChild(this.tip);this.core.on('plugins.icon.placed',this.iconPlacedHandler).on('core.validator.validated',this.validatorValidatedHandler).on('core.element.validated',this.elementValidatedHandler);'click'===this.opts.trigger&&document.addEventListener('click',this.documentClickHandler)}uninstall(){this.messages.clear();document.body.removeChild(this.tip);this.core.off('plugins.icon.placed',this.iconPlacedHandler).off('core.validator.validated',this.validatorValidatedHandler).off('core.element.validated',this.elementValidatedHandler);'click'===this.opts.trigger&&document.removeEventListener('click',this.documentClickHandler)}onIconPlaced(e){we(e.iconElement,{'fv-plugins-tooltip-icon':!0});switch(this.opts.trigger){case 'hover':e.iconElement.addEventListener('mouseenter',t=>this.show(e.element,t));e.iconElement.addEventListener('mouseleave',e=>this.hide());break;case 'click':;default:e.iconElement.addEventListener('click',t=>this.show(e.element,t));break}}onValidatorValidated(e){if(!e.result.valid){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element;this.messages.set(n,e.result.message)}}onElementValidated(e){if(e.valid){let t=e.elements,r=e.element.getAttribute('type'),n='radio'===r||'checkbox'===r?t[0]:e.element;this.messages.delete(n)}}onDocumentClicked(e){this.hide()}show(e,t){t.preventDefault();t.stopPropagation();if(!this.messages.has(e)){return}we(this.tip,{'fv-plugins-tooltip--hide':!1});this.tip.innerHTML=`<span class="fv-plugins-tooltip__content">${this.messages.get(e)}</span>`;let r=t.target,n=r.getBoundingClientRect(),s=0,a=0;switch(this.opts.placement){case 'top':;default:s=n.top-n.height;a=n.left+n.width/2-this.tip.clientWidth/2;break;case 'top-left':s=n.top-n.height;a=n.left;break;case 'top-right':s=n.top-n.height;a=n.left+n.width-this.tip.clientWidth;break;case 'bottom':s=n.top+n.height;a=n.left+n.width/2-this.tip.clientWidth/2;break;case 'bottom-left':s=n.top+n.height;a=n.left;break;case 'bottom-right':s=n.top+n.height;a=n.left+n.width-this.tip.clientWidth;break;case 'left':s=n.top+n.height/2-this.tip.clientHeight/2;a=n.left-this.tip.clientWidth;break;case 'right':s=n.top+n.height/2-this.tip.clientHeight/2;a=n.left+n.width;break}s+=document.body.scrollTop;a+=document.body.scrollLeft;this.tip.setAttribute('style',`top: ${s}px; left: ${a}px`)}hide(){we(this.tip,{'fv-plugins-tooltip--hide':!0})}}class xe extends pe{constructor(e){super(e);this.handlers=[];this.ieVersion=(()=>{let e=3,t=document.createElement('div'),r=t.all||[];while(t.innerHTML='<!--[if gt IE '+ ++e+']><br><![endif]-->', r[0]);;return e>4?e:document.documentMode})();let t=document.createElement('div');this.defaultEvent=this.ieVersion===9||!('oninput' in t)?'keyup':'input';this.opts=Object.assign({},{event:this.defaultEvent,threshold:0},e);this.fieldAddedHandler=this.onFieldAdded.bind(this);this.fieldRemovedHandler=this.onFieldRemoved.bind(this)}install(){this.core.on('core.field.added',this.fieldAddedHandler).on('core.field.removed',this.fieldRemovedHandler)}uninstall(){this.handlers.forEach(e=>e.element.removeEventListener(e.event,e.handler));this.handlers=[];this.core.off('core.field.added',this.fieldAddedHandler).off('core.field.removed',this.fieldRemovedHandler)}prepareHandler(e,t){t.forEach(t=>{let r=[];switch(!0){case !!this.opts.event&&this.opts.event[e]===!1:r=[];break;case !!this.opts.event&&!!this.opts.event[e]:r=this.opts.event[e].split(' ');break;case 'string'===typeof this.opts.event&&this.opts.event!==this.defaultEvent:r=this.opts.event.split(' ');break;default:let a=t.getAttribute('type');let s=t.tagName.toLowerCase();let n='radio'===a||'checkbox'===a||'file'===a||'select'===s?'change':(this.ieVersion>=10&&t.getAttribute('placeholder')?'keyup':this.defaultEvent);r=[n];break}r.forEach(r=>{let n=r=>this.handleEvent(r,e,t);this.handlers.push({element:t,event:r,field:e,handler:n});t.addEventListener(r,n)})})}handleEvent(e,t,r){this.exceedThreshold(t,r)&&this.core.validateElement(t,r).then(n=>{this.core.emit('plugins.trigger.executed',{element:r,event:e,field:t})})}onFieldAdded(e){this.handlers.filter(t=>t.field===e.field).forEach(e=>e.element.removeEventListener(e.event,e.handler));this.prepareHandler(e.field,e.elements)}onFieldRemoved(e){this.handlers.filter(t=>t.field===e.field&&e.elements.indexOf(t.element)>=0).forEach(e=>e.element.removeEventListener(e.event,e.handler))}exceedThreshold(e,t){let r=this.opts.threshold[e]===0||this.opts.threshold===0?!1:this.opts.threshold[e]||this.opts.threshold;if(!r){return!0}let n=t.getAttribute('type');if(['button','checkbox','file','hidden','image','radio','reset','submit'].indexOf(n)!==-1){return!0}let s=this.core.getElementValue(e,t);return s.length>=r}}var Te={Alias:be,Aria:Ae,AutoFocus:ve,Declarative:Ee,DefaultSubmit:Ce,Dependency:Se,Framework:Ie,Icon:Ne,Message:Le,SubmitButton:Ze,Tooltip:Fe,Trigger:xe};function Re(e,t){return e.classList?e.classList.contains(t):new RegExp(`(^| )${t}( |$)`,'gi').test(e.className)}var Be={call:g,classSet:we,closest:Me,fetch:x,format:c,hasClass:Re,isValidDate:A};let Oe={};e.algorithms=s;e.formValidation=he;e.filters=me;e.locales=Oe;e.plugins=Te;e.utils=Be;e.validators=fe;e.Plugin=pe;e.Status=u;Object.defineProperty(e,'__esModule',{value:!0})}))
